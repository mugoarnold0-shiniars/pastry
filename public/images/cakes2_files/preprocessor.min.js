(function(){function ra(){try{var p=(document.head.innerHTML+document.body.innerHTML).match(/(?:preprocessor(?:-[a-z0-9]+)?(?:\.min)?\.js\?sid=[^'"&]+)|(?:heatmap(?:-light)?(?:\.min)?\.js\?sid=[^'"&]+)/);if(p){const N=p[0].split("sid=")[1];N&&(window.preHeatmapSiteId=parseInt(N,10));var K=window.preHeatmapSiteId,F=window.location.hostname;F=F.replace("www.","").replace("https://","").replace("http://","");p={"birddogs.com":4208};if(p[F]){window.preHeatmapSiteId=p[F];var C=p[F]}else C=window.preHeatmapSiteId=
K;return C}}catch(N){}return 0}function ca(){return"undefined"!==typeof window.Shopify}function U(){return/portal\.heatmap\.com\/(heatmaps|recordings)\//.test(M)||/heatmapcore\.com\/(heatmaps|recordings)\//.test(M)}function V(p){try{if(ca()&&"function"===typeof Shopify?.customerPrivacy?.userCanBeTracked){const K=Shopify?.customerPrivacy?.userCanBeTracked();if(p&&"analyticsAllowed"in p){if(!p.analyticsAllowed)return!1}else if(!K)return!1}return"undefined"!==typeof window.externalPrivacyConsent&&!1===
window.externalPrivacyConsent?!1:!0}catch(K){return!1}}function da(p){V(p?.detail)?window.heatmapPrivacyAllowed||(window.heatmapPrivacyAllowed=!0,R()):(window.heatmapPrivacyAllowed=!1,window.HeatmapTracker&&"function"===typeof window.HeatmapTracker.disconnect&&window.HeatmapTracker.disconnect())}function R(){function p(){return{host:window.location.host,hostname:window.location.hostname,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,search:window.location.search,
userAgent:window.navigator.userAgent,language:window.navigator.language}}function K(a,c="",b=""){try{if(!["leadConversion","leadConfig"].includes(a))return!0;let g=`${I}${p().pathname}`;if((window.location.origin.includes("heatmapcore")||window.location.origin.includes("heatmap.com"))&&!window.allowedHeatmapSiteIds.includes(r))return!0;var d=r,e=A;try{var f=Math.max(document.body?document.body.offsetHeight:0,document.body?document.body.scrollHeight:0,document.documentElement?document.documentElement.offsetHeight:
0,document.documentElement?document.documentElement.clientHeight:0,document.documentElement?document.documentElement.scrollHeight:0)}catch(k){f=0}let h={sendBeacon:a,siteid:d,page_url:g,idSiteHsr:c,idVisit:e,docHeight:`${f}_${window.hDeviceId}`};b&&(h.userJourney=b);"leadConversion"===a&&(h.idVisitor=localStorage.getItem("_mr_vid"),h.isReturning=window.isReturningUser,localStorage.setItem("heatIsGoalBuyer",1),localStorage.setItem("heatIsGoalBuyerValue",1),localStorage.setItem("heatIsGoalBuyerAmount",
1));navigator.sendBeacon(`${window.dedicatedPath}/heatmap.php?data=${window.btoa(encodeURIComponent(JSON.stringify(h)))}&request=beacon`)}catch(g){return""}}function F(){try{if(window.preHeatmapSiteId)return window.preHeatmapSiteId;const a=document.currentScript?.src;if(a){const b=(new URLSearchParams((new URL(a)).search)).get("sid");if(b)return r=parseInt(b,10)}const c=(document.head.innerHTML+document.body.innerHTML).match(/(?:preprocessor(?:-[a-z0-9]+)?(?:\.min)?\.js\?sid=[^'"&]+)|(?:heatmap(?:-light)?(?:\.min)?\.js\?sid=[^'"&]+)/);
if(c){const b=c[0].split("sid=")[1];return r=parseInt(b,10)}}catch(a){console.warn("Error detecting heatmap SID:",a)}return null}function C(a,c=null){if(window.heatLoadedScripts[a])c&&"function"===typeof c&&c();else{var b=document.createElement("script");b.type="text/javascript";b.src=a;b.async=!1;b.defer=!0;b.onload=function(){window.heatLoadedScripts[a]=!0;c&&"function"===typeof c&&c()};document.head.appendChild(b)}}function N(){ea();if(!window.HeatmapTracker.isInitialized()||fa){window.exitingPageNow=
!0;try{const a=window.generatedIdVisit||localStorage.getItem("_heatVid")||"",c=window.preHeatmapSiteId||F()||"";if(a&&c&&window.HeatmapTracker&&"function"===typeof window.HeatmapTracker.trackPageView){window.earlyExitTrackerInstance||(window.earlyExitTrackerInstance={},window.HeatmapTracker.initialize(window.earlyExitTrackerInstance),window.earlyExitTrackerInstance.earlyExit=!0);const b={early_exit:!0,exit_time:Math.round(performance.now()),ts:(new Date).toISOString()};window.HeatmapTracker.trackPageView(window.earlyExitTrackerInstance,
window.documentTitle,b,!0);"function"===typeof window.HeatmapTracker.sendQueuedData&&window.HeatmapTracker.sendQueuedData(window.earlyExitTrackerInstance,!0)}}catch(a){console.error("Error in sendMinimalExitData:",a)}}}function sa(a){var c=a.startsWith("https")?!0:!1;if(!c)return"";a=new URL(a);var b=new URLSearchParams(a.search);a={};c=["page","pages","pg","v"];for(const [d,e]of b.entries())c.includes(d)&&(b=e.toLowerCase(),"v"===d&&"a b gma gmb cta ctb".split(" ").includes(b)?a[d]=b:"v"!==d&&(a[d]=
b));return 0<Object.keys(a).length?"-"+(new URLSearchParams(a)).toString().replace(/[?=&]/g,"-"):""}function ha(a){let c=sa(a);var b=a.match(/^https?:\/\//);b=b?b[0]:"";a=a.split("?")[0].replace(/\/+$/,"").replace(/^(https?:\/\/)?(www\.)?/,"");return b+a+c}function z(a,c=null){if(!localStorage.getItem(a))return null;a=localStorage.getItem(a);if(null==c)return a;a=JSON.parse(a);c=ha(c);return a[c]?a[c]:null}function x(a,c,b="allHeatmapsIds"){let d=ha(a),e={},f=z(`${b}`);f&&(e=JSON.parse(f));e[d]=c;
["heatmapCDHeatmapLight","heatmapCDPreprocessor","heatmapCDConversions"].includes(a)&&localStorage.setItem("debugger_needs_update",a);return localStorage.setItem(`${b}`,JSON.stringify(e))}function O(a,c,b){const d=new Date;let e=location.host;e=e.replace(/www\./g,"");var f=e.split(".");d.setTime(d.getTime()+864E5*b);b="expires="+d.toUTCString();a=a+"="+c+";"+b+";path=/";2<f.length&&(f=f.slice(-2).join("."),document.cookie=a+(";domain=."+f));document.cookie=a+(";domain=."+e);e.includes("mylifetrove.com")&&
(a+=";domain=checkout-lifetrove.com",document.cookie=a);e.includes("heatmap.com")&&(document.cookie=a+";domain=heatmapcore.com")}function P(a,c="_idl"){a=a?a:F();var b=new Date,d=b.getFullYear().toString().slice(-1),e=(parseInt(b.getMonth())+1).toString();const f=b.getDate().toString().padStart(2,"0"),g=b.getHours().toString().padStart(2,"0"),h=b.getMinutes().toString().padStart(2,"0"),k=b.getSeconds().toString().padStart(2,"0");b=b.getMilliseconds().toString().padStart(3,"0");const m=Math.floor(100*
Math.random()).toString().padStart(4,"0");let l=`${d}${e}${f}${g}${h}${k}${b}${m}`;l=l.replace(/\D/g,"");18>l.length?(d=18-l.length,e=Math.floor(Math.random()*Math.pow(10,d)).toString().padStart(d,"0"),l=l*Math.pow(10,d)+e):18<l.length&&(l=l.slice(-18));18446744073709551615n<BigInt(l)&&(l=l.substring(1));"_idv"==c&&(d={idVisit:l,_heatIdvUpdated:(new Date).getTime()},x("_heatIdVisit",d,"_heatmapConfigs"),localStorage.setItem("_heatVid",l),O(`_heatVid_${a}`,l,1),O(`_heatIdvUpdated_${a}`,d._heatIdvUpdated,
1));setTimeout(()=>{"_idl"==c&&("undefined"!==typeof heatmapDebugger?heatmapDebugger.updateIdvIdl(c,l):localStorage.setItem("_heatidL",l))},1E3);return l}function L(a){for(var c="";0<a;--a)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return c}function W(a){var c=document.cookie.split(";");try{for(var b=null,d=0;d<c.length;d++){var e=c[d].split("="),f=e[1];if(e[0].trim()===a.trim()){b=f;break}}return b}catch(g){return null}}function Ua(a,c){let b=
(new Date).getTime();O(`_heatIdvUpdated_${a}`,b,1);x("_heatIdVisit",{idVisit:c,_heatIdvUpdated:b},"_heatmapConfigs")}function Va(){let a={};var c=W("hubspotutk");c&&(a.hubspotutk=c);c=new URLSearchParams(window.location.search);for(const [b,d]of c.entries())b.startsWith("utm_")&&(O(b,d,1),a[b]=d);localStorage.setItem("hutk_data",JSON.stringify(a))}function ta(a){let c="Unknown",b="Unknown",d="Unknown",e="Unknown",f="Unknown",g="Unknown",h="Unknown";var k=[{name:"Chrome",regex:/Chrome\/([0-9.]+)/},
{name:"Firefox",regex:/Firefox\/([0-9.]+)/},{name:"Safari",regex:/Version\/([0-9.]+) Safari/},{name:"Safari",regex:/Version\/([0-9.]+)/},{name:"Edge",regex:/Edg\/([0-9.]+)/},{name:"Opera",regex:/OPR\/([0-9.]+)/}];for(var m of k)if(k=a.match(m.regex)){c=m.name;b=k[1];break}m=[{name:"iOS",regex:/OS ([0-9_]+) like Mac OS X/},{name:"Mac OS",regex:/Mac OS X ([0-9_]+)/},{name:"Lumia",regex:/Lumia ([0-9_]+)/},{name:"Pixel",regex:/Pixel ([0-9_]+)/},{name:"SAMSUNG",regex:/SAMSUNG ([A-Z-0-9_]+)/}];for(var l of m)if(m=
a.match(l.regex)){g=l.name;h=m[1]?m[1].replace(/_/g,"."):m[0];break}l=[{name:"Windows",regex:/Windows NT ([0-9.]+)/},{name:"iOS",regex:/OS ([0-9_]+) like Mac OS X/},{name:"Mac OS",regex:/Mac OS X ([0-9_]+)/},{name:"Pixel",regex:/Pixel ([0-9_]+)/},{name:"Android",regex:/Android ([0-9.]+)/},{name:"SAMSUNG",regex:/SAMSUNG ([A-Z-0-9_]+)/},{name:"Linux",regex:/Linux/}];for(const q of l)if(l=a.match(q.regex)){d=l[0];e=q.name;f=l[1]?l[1].replace(/_/g,"."):l[0];break}return navigator.userAgentData&&navigator.userAgentData.brands.length?
(a=navigator.userAgentData,a.fullVersionList=a.brands,a.platformVersion=f,a.brand=g,a.brandModel=h,a.model=d,a):{fullVersionList:[{brand:c,version:b}],mobile:a.match(/Mobi|Android/i)?!0:!1,model:d,brand:g,brandModel:h,platform:e,platformVersion:f}}function D(a){let c=sa(a);a=a.replace(/\/$/,"");a=a.replace(/^(https?:\/\/)?(www\.)/i,"");a=a.replace(/^(https?:\/\/)/i,"");a=a.replace(/\?.*/,"");a=a.split("#")[0];a=a.replace(/\/+$/,"");a=a.replace(/\//g,"-");a+=c;a=decodeURIComponent(a);a=a.replace(/[^\w\s\-.]/gi,
"");return a.toLowerCase()}function ua(a,c=1500,b=!1){window._heatDEBUG=!1;a.envVars.KINESISGATEWAY=window.globalObjects.KINESISGATEWAY;a.envVars.KINESISSTREAM=window.globalObjects.KINESISSTREAM;x("_heatMapEnvRecord",a.envVars,"_heatmapConfigs");x("_heatmapConfigUrl",a.envVars.CONFIGURL,"_heatmapConfigs");window.heatmapConfigsResponse.envVars={};window.heatmapConfigsResponse.heatmap.urlPaths={};E=window.heatmapHsrIds=window.heatmapConfigsResponse.heatmap.heatmaps[0].id;window.heatGlobalPayload.idsitehsr=
E;localStorage.setItem("_heatHsr",E);window.heatmapSiteHsr=E;setTimeout(()=>{window.nodeConfigs=a;window.HeatmapTracker&&!window.HeatmapTracker.isInitialized()&&0==b&&(fa&&(window.removeEventListener("beforeunload",N),fa=!1),myHeatEnv=z("_heatmapConfigs","_heatMapEnvRecord"),window.trackerInstance={},window.HeatmapTracker.initialize(window.trackerInstance),window.HeatmapTracker.trackPageView(window.trackerInstance));ia()},c)}function X(a,c){if([2898,4068].includes(c))return a;"/de/ /es/ /it/ /ja/ /pt/ /ru/ /zh/ /ar/ /tr/ /nl/ /pl/ /sv/ /lv/ /en/ /cs/ /da/ /el/ /fi/ /he/ /hr/ /hu/ /id/ /is/ /it/ /ja/ /ko/ /lt/ /ms/ /gh/ /gb/ /nb/ /nl/ /pl/ /pt/ /ro/ /ru/ /sk/ /sl/ /sr/ /sv/ /th/ /tr/ /uk/ /vi/ /zh/ /ng/".split(" ").forEach(b=>
{a.includes(b)&&(a=a.replace(b,"/"))});return a.replace(/(\/[a-z]{2}-[a-z]{2})(\/|$)/,"/")}function va(a){try{let c=(new URL(a)).hostname;c=c.replace("www.","");const b=c.split(":")[0],d="co.uk gov.uk ac.uk org.uk co.in gov.in ac.in com.au net.au org.au".split(" ").find(f=>b.endsWith("."+f)),e=b.split(".");if(d){const f=d.split(".").length;return e.length>f+1}return 2<e.length}catch(c){return!1}}async function Wa(){let a=!1,c={idsite:r,trackerid:L(10),url:X(window.currentHeatmapURL,r),viewPortW:window.innerWidth,
title:decodeURIComponent(Y()),_id:wa(r),force_record:0,_isQr:0,_heatUrl:G,_isQrSiteHsr:0};c.title=c.title.substring(0,99);ja&&(c.forced_heatmap=1,c.force_record=1);var b=c.url;if(D(b).includes("srcdoc")||D(b).includes("aboutsrcdoc"))b=!1;else{var d=/(\/reset|\/sandbox\/modern|\/account\/activate|\/account\/quick-action|\/account\/addresses|\/loop_subscriptions|\/loop_subscriptions\/customer|\/payment_methods|\/reserve\/)/,e=/(\/pages\/share-review|\/pages\/profile\/)/;b=(/(\/tracking|\/checkouts|\/tools\/recurring|\/account\/forgotten|\/account\/register|\/account\/login|\/order\/|\/orders\/\/checkouts\/cn|\/downloads|\/search|\/account\/)/.test(b)||
d.test(b)||e.test(b))&&!ja?!1:!0}if(!b)return window.nodeConfigs=heatmapDefaultConfigs,window.heatmapConfigsResponse=heatmapDefaultConfigs,window.configsResponse=heatmapDefaultConfigs.heatmap,window.heatmapRateLimiting={singlePaged:!0,intervalTime:3E3,events:{track:!0,rate:100},record:{track:!0,rate:100},configuration:{summary:[],raw:[]}},!0;window.heatPauseBeforeSCreenshot&&(b=new URLSearchParams(window.location.search),a=!0,c._req="lambda",c._isQr=1,c._isQrSiteHsr=b.get("idSideHsr"));try{if(!1===
a){if(localStorage.getItem("scg"))return!0;navigator.sendBeacon(`${window.trackingPath}/cfg/v1`,JSON.stringify(c));localStorage.setItem("scg",!0)}else{let f=await fetch(`${window.stagingPath}/backend/heatmaps/configs?_isQR=1`,{method:"POST",body:JSON.stringify(c)});if(f.ok){let g=await f.json();window.heatmapConfigsResponse=g;window.configsResponse=g;myHeatEnv=g.envVars;window.heatmapConfigsHasBeenAssigned=!1;window.configsResponse.heatmap.heatmaps&&0<window.configsResponse.heatmap.heatmaps.length&&
(E=window.heatmapHsrIds=window.configsResponse.heatmap.heatmaps[0].id);window.nodeConfigs=window.heatmapConfigsResponse;return ua(g,timestamp)}}}catch(f){console.error("Fetch error:",f)}}async function xa(a=2E3,c=!1,b=!1){if(null==r||window.nodeConfigs._req&&!c||(I.includes("heatmapcore")||I.includes("heatmap.com"))&&!window.allowedHeatmapSiteIds.includes(r))return!0;try{const d=`https://c.heatmap.com/${r}/${D(X(window.currentHeatmapURL,r))}.json`,e=await (await fetch(d,{method:"GET"})).text(),f=
JSON.parse(e);"000"==f.envVars.IDSITE&&(f.heatmap.sessions=[{id:8057072,sample_rate:100,min_time:0,activity:0,keystrokes:0,conditionsMet:!0}]);window.heatmapConfigsResponse=f;"undefined"!==typeof window.heatmapConfigsResponse.heatmaps&&(window.heatmapConfigsResponse.heatmap={},window.heatmapConfigsResponse.envVars=window.heatmapConfigsResponse.urlPaths,window.heatmapConfigsResponse.heatmap.idsite=window.heatmapConfigsResponse.idsite,window.heatmapConfigsResponse.heatmap.heatmaps=window.heatmapConfigsResponse.heatmaps,
window.heatmapConfigsResponse.heatmap.sessions=window.heatmapConfigsResponse.sessions,delete window.heatmapConfigsResponse.urlPaths);window.configsResponse=window.heatmapConfigsResponse.heatmap;("000"==JSON.parse(e).envVars.IDSITE||ja)&&setTimeout(Wa,0);window.nodeConfigs=window.heatmapConfigsResponse;return ua(window.heatmapConfigsResponse,a,b)}catch(d){}}function Y(){if(document.title.length)return window.documentTitle=document.title.replace(/['"&]/g,""),encodeURIComponent(window.documentTitle);
var a=p().pathname,c=I.replace("https://","").replace("www.","");if(!a||"/"===a)return c.split(".")[0];let b=a.lastIndexOf("/"),d=a.substring(1,b).split("/").pop();a=`${a.substring(b+1).split("?")[0]}`.replace(/[^\w\s]/gi," ").trim();a=d.length?`${d}: ${a}`:a;c=c.split(".");a=2<c.length?a.replace(new RegExp(`\\.${c[c.length-2]}\\.${c[c.length-1]}$`),""):a.replace(new RegExp(`\\.${c[c.length-1]}$`),"");a=a.replace(/['"&]/g,"");return encodeURIComponent(a.trim())}function Z(){const a=document.querySelectorAll("a"),
c=new Map,b=/[^a-zA-Z0-9\-]/g,d=f=>{const g=c.get(f)||0;c.set(f,g+1);return g?`${f}-${g}`:f},e=(f,g)=>{f.hasAttribute("data-heatmap-id")||f.setAttribute("data-heatmap-id",g);Array.from(f.children).forEach(h=>{let k=h.tagName.toLowerCase(),m=f.getAttribute("data-heatmap-id");e(h,`${m}-${k}`)})};a.forEach(f=>{var g=f.getAttribute("data-heatmap-id");if(!g){var h=f.getAttribute("href")||"";try{h=(new URL(X(h,r),location.origin)).pathname}catch(k){}h=h.replace(/[\?&]variant=\d+/g,"").replace(/\//g,"-").replace(b,
"").toLowerCase();3<h.length&&(g=(g=(f.innerText||"").replace(/\s+/g," ").trim().replace(/[^a-zA-Z0-9]/g,"").toLowerCase())?`${h}-${g}`:h,c.set(`${g}-a`,1),g=d(g),f.setAttribute("data-heatmap-id",`${g}-a`))}g&&e(f,d(g))})}function Xa(a){var c=D(window.location.href),b=c;a=parseInt(a)?a:2E3;const d=()=>{window.MaxUserScroll=0;window.scrollMaxPercentage=0;ka=(new Date).getTime();window.currentHeatmapURL=p().href;window.createNewVisitRequired=!1;window.Client_url=new URL(window.currentHeatmapURL);S=
new URL(window.currentHeatmapURL);window.heatSiteHref=S.href;window.generatedIdloghsr=P(r,"_idl");window.hrs_vidp=L(10);window.heatviewsent=0;window.FirstHSRSentToAPI=!1;window.heatmapConfigsHasBeenAssigned=!1;xa(300,!0,!0);window.visitRecordSent.visit=!1;window.visitRecordSent.loghsr=!1;window.heatviewsent=!1;window.heatVisitData={};window.ignoreReadyState=!0;setTimeout(()=>{window.shouldSetUniqueHeatmapIds&&Z();window._heatmap_paq.push(["trackPageView"]);ya();window.heatmapConfigsResponse.heatmap&&
window.heatmapConfigsResponse.heatmap.heatmaps.length&&(window.hrs_pvidp=L(6),E=window.heatmapHsrIds=window.heatmapConfigsResponse.heatmap.heatmaps[0].id,window.heatGlobalPayload.idsitehsr=E,localStorage.setItem("_heatHsr",E),window.trackerInstance={},window.HeatmapTracker.initialize(window.trackerInstance),window.HeatmapTracker.trackPageView(trackerInstance));"undefined"!==typeof convObj&&convObj.triggerCustomSiteSnippets&&convObj.triggerCustomSiteSnippets();window.visitRecordSent.intelligems=!1;
window.visitRecordSent.convert=!1;window.visitRecordSent.session_tag=!1;la()},500)};setInterval(()=>{c=D(window.location.href);if(c!==b&&(window.HeatmapTracker&&"function"===typeof window.HeatmapTracker.destroy&&window.HeatmapTracker.destroy(window.trackerInstance),!U())){const e=new CustomEvent("HeatUrlChange");window.dispatchEvent(e);setTimeout(()=>{d()},500);b=c}},a)}function za(){window.heatmapRateLimiting={singlePaged:!0,intervalTime:3E3,events:{track:!0,rate:100},record:{track:!0,rate:100},
trackvariant:!0,configuration:{summary:[],raw:[]}};x("heatmapTracking",window.heatmapRateLimiting,"_heatmapConfigs");window.heatmapRateLimiting.acceptedTags=ma}function Aa(){var a={};if("undefined"!==typeof navigator){var c=navigator,b={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!/MSIE/.test(c.userAgent)){if(c.mimeTypes&&c.mimeTypes.length)for(var d in b)if(Object.prototype.hasOwnProperty.call(b,
d)){var e=c.mimeTypes[b[d]];a[d]=e&&e.enabledPlugin?1:0}!/Edge[ /](\d+[.\d]+)/.test(c.userAgent)&&"undefined"!==typeof c.javaEnabled&&c.javaEnabled()&&(a.java="1");a.cookie=c.cookieEnabled?1:0}}return window.heatBrowFeatures=a}function Ba(a){for(let c=0;c<a.childNodes.length;c++)if(a.childNodes[c].nodeType!==Node.TEXT_NODE)return!0;return!1}function Ca(a){if("html"===a.toLowerCase())return window._heatDEBUG&&console.log("Selector is not valid. 'html' selector is not allowed."),!1;if(0<document.querySelectorAll(a).length)return!0;
window._heatDEBUG&&console.log("Selector is not valid. No element found matching the selector:",a);return!1}function Da(a){try{const c=["swiper-button-next","swiper-button-prev"];if(a&&c.some(f=>a.classList.contains(f))||"li"==a?.parentElement.tagName.toLowerCase())return!1;const b=window.getComputedStyle(a,"::before"),d=window.getComputedStyle(a,"::after"),e=window.getComputedStyle(a,"::after").zIndex;return e&&0>e?!1:"none"!==b.content||"none"!==d.content}catch(c){return!1}}function Ea(a,c){try{if(!(a instanceof
Element))return"";var b=null;try{var d=c.split(" > ")[0];let h=document.querySelectorAll(d);for(d=0;d<h.length&&!b;d++){let k=a;for(;k&&k!==document.body;){if(k===h[d]){b=k;break}k=k.parentElement}}}catch(h){}b||=a;a=[];let e=b.parentElement;for(;e&&"HTML"!==e.tagName;){let h=e.nodeName.toLowerCase(),k=e.id;if(k&&!/\s|[:\[\]/!.]/.test(k)&&!/\d{4,}/.test(k))h+="#"+k;else if(e.classList.length){let l=Array.from(e.classList).filter(q=>!/[a-f0-9-]{36}/.test(q)&&!/\d{3,}/.test(q));l.length&&(h+="."+l.join("."))}if("body"===
e.nodeName.toLowerCase()){a.unshift(h);break}let m=e.parentNode;m&&1<m.children.length&&1<Array.from(m.children).filter(l=>l.nodeName.toLowerCase()===e.nodeName.toLowerCase()).length&&(h+=`:nth-child(${Array.from(m.children).indexOf(e)+1})`);a.unshift(h);e=m}let f=a.length?a.join(" > "):"body";b=`${f} > ${c}`;let g=b.split(" > ").length-1;window.calculatedRus.includes(f)?g=0:window.calculatedRus.push(f);return{k:b,rus:b,m:g,rud:g,f:c,ruap:c}}catch(e){}}function Ya(a,c="Processing Log"){var b=(new Date).toLocaleString();
Za.push({log:a,title:c,date:b})}function $a(){try{if("undefined"!==typeof convertData)return convertData.geo;if("undefined"!==typeof Shopify)return window.userCanBeTracked=Shopify?.customerPrivacy?.userCanBeTracked(),{country:Shopify.customerPrivacy.getRegion(),continent:Shopify.country}}catch(a){}return{}}function Fa(a,c=""){const b=[];for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const e=a[d],f=c?`${c}[${d}]`:d;"object"===typeof e?b.push(Fa(e,f)):b.push(`${f}=${encodeURIComponent(e)}`)}return b.join("&")}
function ea(){try{var a=window.location.href;if(a.includes("hoshart.com")){const c=document.querySelector(".cart-summary-aside");if(c){let b=c.querySelector("a"),d=b?b.getAttribute("href"):null;if(d&&!d.includes("hVisitId")){let e=d+(d.includes("?")?"&":"?")+"hVisitId="+A;b.setAttribute("href",e)}}}if(a.includes("myhealthyshape.com")){const c=document.querySelectorAll('a.btn.btn-v2[href*="pdp-glp1-patches-v1"], a.btn.btn-v2[href*="pages/pdp-big4"], a.btn.btn-v2[href*="top5-glp-1-patches"]');if(0<
c.length)for(a=0;a<c.length;a++){let b=c[a].getAttribute("href");if(b&&!b.includes("hVisitId")){let d=b+(b.includes("?")?"&":"?")+"hVisitId="+A;c[a].setAttribute("href",d)}}}}catch(c){}}function Ga(a){if(!window.heatmapHsrIds||(window.location.origin.includes("heatmapcore")||window.location.origin.includes("heatmap.com"))&&!window.allowedHeatmapSiteIds.includes(r)||D(window.currentHeatmapURL).includes("srcdoc")||D(window.currentHeatmapURL).includes("aboutsrcdoc"))return!0;a=(window.scrollY||document.documentElement.scrollTop)/
(document.documentElement.scrollHeight-window.innerHeight)*100;window.tagging&&window.tagging.processScroll(a);if(a>window.MaxUserScroll){var c={ti:getTimeSincePageReadyP(),ty:14,sh:n.getDocumentHeight(),smp:parseInt(10*a,10)};window.HeatmapTracker&&window.HeatmapTracker.isInitialized()&&"function"===typeof window.HeatmapTracker.recordData&&window.HeatmapTracker.recordData("heatmap",c);window.MaxUserScroll=a;window.shouldSetUniqueHeatmapIds&&setTimeout(()=>{Z()},1500)}}function wa(a){localStorage.setItem("_user_agent",
p().userAgent);var c=localStorage.getItem("_mr_vid");if(void 0!==c&&null!==c)return c;document.cookie.split(";").forEach(e=>{var [f,g]=e.split("=");if(-1<f.indexOf(`_pk_id.${a}`))return g.trim().split(".")[0]});heatmapPNewVisitor=1;c=new Date;let b=n.generateVisitId();var d="_pk_id."+r+"."+n.simplifyDomain(document.domain);ab(d,b+"."+Math.round(c.getTime()/1E3)+".",1296E5,"/",n.domainFixup(document.domain),"secure","Lax");localStorage.setItem("_mr_vid",b);return b}function na(a){try{const c=/#((\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}))/gi;
return c.test(a)?(a=a.replace(c,""),a.includes(">")?a:null):a}catch(c){return a}}function ab(a,c,b,d,e,f,g){if(b){var h=new Date;h.setTime(h.getTime()+b)}g||="Lax";document.cookie=a+"="+c+(b?";expires="+h.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(f?";secure":"")+";SameSite="+g}function Ha(a){try{var c=document.querySelector(a);if(!c)return a;const b=["data-at-id","data-heatmap-id-link","data-heatmap-atc","data-heatmap-cta","data-heatmap-id"];function d(g){for(const h of b)if(g.hasAttribute(h))return{attrName:h,
attrValue:g.getAttribute(h),tagName:g.tagName.toLowerCase()};return null}let e=d(c);if(e)return`${e.tagName}[${e.attrName}="${e.attrValue}"]`;let f=c.parentElement;for(c=0;f&&5>c;){if(e=d(f))return`${e.tagName}[${e.attrName}="${e.attrValue}"]`;f=f.parentElement;c++}return a}catch(b){return a}}function bb(a,c="ty s x y ax ay".split(" ")){const b=new Set,d=[];for(const e of a)a=c.map(f=>e[f]).join("|"),b.has(a)||(b.add(a),d.push(e));return d}function cb(a,c,b=""){try{const e=a.className||"";var d=[/overlay/i,
/backdrop/i,/modal-bg/i,/drawer-overlay/i,/side-drawer-overlay/i,/offcanvas-backdrop/i,/modal-backdrop/i,/drawer-close/i,/modal-close/i].some(w=>w.test(e)||w.test(b));const f=a.hasAttribute("data-dismiss")||a.hasAttribute("data-bs-dismiss")||a.getAttribute("aria-label")?.toLowerCase().includes("close")||a.closest("[data-dismiss], [data-bs-dismiss]"),g=window.innerWidth,h=window.innerHeight,k=50>c.pageX,m=c.pageX>g-50||k,l=a.getBoundingClientRect(),q=l.width>.3*g&&l.height>.5*h,u=!a.textContent?.trim()||
5>a.textContent.trim().length,t=a.closest('.drawer, .side-drawer, .offcanvas, .modal, .modal-dialog, .drawer-container, [role="dialog"], [aria-modal="true"], .sidebar, .nav-drawer');d={isOverlay:d,isDismiss:f,isEdge:m,isLarge:q,hasMinContent:u,inContainer:!!t,shouldFilter:d||f||m&&t||q&&u&&t};window._heatDEBUG&&d.shouldFilter&&console.log("%c\ud83d\udeab Heatmap: Filtered overlay click","color: red; font-weight: bold",{element:a.tagName,classes:e,coordinates:c,viewport:{width:g,height:h},analysis:d});
return d.shouldFilter}catch(e){return window._heatDEBUG&&console.warn("Heatmap overlay detection error:",e),!1}}function Ia(){window.isGoalBuyer=1;window.isGoalBuyerValue=1;window.isGoalBuyerAmount=1;window.isGoalBuyerCurrency="USD";localStorage.setItem("heatIsGoalBuyer",1);localStorage.setItem("heatIsGoalBuyerCurrency","USD");localStorage.setItem("heatIsGoalBuyerValue",1);localStorage.setItem("heatIsGoalBuyerAmount",1)}function Ja(a,c=!0){let b=localStorage.getItem("_heatmap_event_tag"),d={};if(b){b=
JSON.parse(b);Array.isArray(b)||(b=[b]);if(a&&"object"===typeof a&&a.hasOwnProperty("partner")){let e=!1;b.forEach((f,g)=>{f.tag&&f.tag.partner===a.partner&&f.tag.variant_id===a.variant_id&&(b[g]={type:"object",tag:a,persistent:c,_idv:A},e=!0)});e||b.push({type:"object",tag:a,persistent:c,_idv:A})}else{let e=!1;b.forEach((f,g)=>{f.tag&&f.tag===a&&(b[g]={type:"object",tag:a,persistent:c,_idv:A},e=!0)});e||b.push({type:typeof a,tag:a,persistent:c,_idv:A})}d=b}else d=[{type:typeof a,tag:a,persistent:c,
_idv:A}];localStorage.setItem("_heatmap_event_tag",JSON.stringify(d))}function db(a,c=!1){try{localStorage.getItem("_heatmap_custom_tag")?window.sessionTagQueryParam=JSON.parse(localStorage.getItem("_heatmap_custom_tag")):window.sessionTagQueryParam={};for(const d in a)window.sessionTagQueryParam[d]=a[d];c&&localStorage.setItem("_heatmap_custom_tag",JSON.stringify(window.sessionTagQueryParam));window.sessionTagQueryParam._idv=A;"undefined"!==typeof a.type&&(window.sessionTagQueryParam.experiment_id=
a.type);"undefined"!==typeof a.partner_friendly_name&&(window.sessionTagQueryParam.experiment_name=a.partner_friendly_name);const b={idsite:r,idsitehsr:E,requestTime:formatDateUTC(),currentTime:formatDateUTC(),_idv:A,_idl:window.generatedIdloghsr,request:"sessionTags"};b.sessionTags={params:{},partner_tag:[{_idv:A,_idl:window.generatedIdloghsr,tag:window.sessionTagQueryParam}]};b.idsitehsr=E;"undefined"!==typeof window.globalObjects.hmWS&&window.globalObjects.hmWS.send(JSON.stringify({action:"staging-visits",
data:b,streamName:"STTrackerCustomIds",requestTime:formatDateUTC()}),"sessiontags")}catch(b){}}function Ka(a){function c(h){if(!h.includes("."))return!1;h=h.split(".").slice(1);return 4<h.length||h.some(k=>k.includes("elementor-"))||h.some(k=>/\d/.test(k))||h.some(k=>k.includes("product_"))}const b=a.split(" > "),d=[...b];b.forEach((h,k)=>{if(c(h)){var m;if(m=document.querySelector(b.slice(0,k+1).join(" > ")))if(m=m&&m.parentElement?Array.from(m.parentElement.children).indexOf(m)+1:null,m){[h]=h.split(".");
const [l,...q]=h.split("#");d[k]=`${l}${0<q.length?`#${q[0]}`:""}:nth-child(${m})`}}});const e=d.join(" > "),f=document.querySelector(a),g=document.querySelector(e);return f===g&&null!==f?e:a}function eb(){if(window.heatmapRateLimiting&&window.heatmapRateLimiting.configuration){const c=window.heatmapRateLimiting.configuration;D(window.currentHeatmapURL);var a=!1;const b={};function d(k,m,l,q,u=!1){if(u)return window._heatmap_set_event_tag({partner:"VIIAHemp",variant_friendly_name:"selector_click",
selector:l});if(!a){q=new Date;q=(u=b[l])?Math.round((q-u)/6E4):null;u=window.hDeviceId;var t=z("_heatmapConfigs","leadConvCount");t=t?t+1:1;K("leadConversion",E,{eventType:m,target:l,idgoal:k,count:t,intersection_time:q,device_type:u});a=!0;Ia();x("leadConvCount",t,"_heatmapConfigs")}}function e(k){return k.some(m=>D(window.currentHeatmapURL.replace(/\/$/,""))===D(m.replace(/\/$/,"")))}function f(k,m){c.summary.length&&k.forEach(l=>{const {target:q}=l,u=c.summary.find(t=>"visible"===t.eventType&&
t.targets.some(w=>q.matches(w)));u&&l.isIntersecting&&(l=u.targets.find(t=>q.matches(t)),b[l]||(b[l]=new Date),d(u.type,u.eventType,l,null),m.unobserve(q))})}function g(k){const m=new IntersectionObserver(f,{threshold:.5});document.querySelectorAll(k).forEach(l=>m.observe(l))}function h(k,m){document.querySelectorAll(m).forEach(l=>{l.addEventListener(k.eventType,q=>d(k.type,k.eventType,m,q,!!k.eventTag))})}try{c.summary.length&&(new MutationObserver(k=>{k.forEach(m=>{m.addedNodes.forEach(l=>{1===
l.nodeType&&c.summary.forEach(q=>{const {targets:u,eventType:t}=q;"visible"===t&&u.forEach(w=>{(l.matches(w)||l.querySelector(w))&&g(w)})})})})})).observe(document.body,{childList:!0,subtree:!0})}catch(k){}if(c)try{c.summary.forEach(k=>{const {targets:m}=k;"page_load"===k.eventType&&e(m)?d(k.type,k.eventType,window.currentHeatmapURL,null):m.forEach(l=>{"page_load"!==k.eventType&&(g(l),"visible"!==k.eventType&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{h(k,l)}):
h(k,l)))})})}catch(k){}}}async function fb(a,c,b=!1,d="recordings"){if(a){var e=await localStorage.getItem("heatmapHsrVid");if("recordings"==d&&1==b)try{if(!a.Data){window._heatDEBUG&&console.warn("GzipWebWorker: data.Data is null/undefined");return}a=decodeURIComponent(window.atob(a.Data))}catch(m){window._heatDEBUG&&console.error("Error decoding data:",m);return}window._heatDEBUG&&console.log(a);var f=gb(),g=Math.floor(1E6*Math.random()),h=async function(m){var l=m.data;if(l.id===g)if(l.error)window._heatDEBUG&&
console.error("Worker processing error:",l.error),k();else{m=l.data;var q=l.url,u=l.isBeacon;l=l.heatmapHsrVid;window._heatDEBUG&&console.log({initialData:m,fileUrl:q});try{if(u){const t=btoa(Array.from(new Uint8Array(m)).map(v=>String.fromCharCode(v)).join("")),w=`${q}${q.includes("?")?"&":"?"}data=${t}&id=${g}&hsr_vid=${l}`;window._heatDEBUG&&console.log("Sending beacon to:",w);navigator.sendBeacon?(navigator.sendBeacon(w),window._heatDEBUG&&console.log("Beacon sent:",g)):(await fetch(w,{method:"POST",
keepalive:!0}),window._heatDEBUG&&console.log("Beacon sent via fetch:",g));"clicks"===d&&localStorage.removeItem("phClicks")}else{const t=new Blob([m]),w=await fetch(q,{method:"PUT",headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},body:t});"clicks"===d&&localStorage.removeItem("phClicks");window._heatDEBUG&&console.log("S3 Response:",w)}}catch(t){window._heatDEBUG&&console.error(u?"Beacon error:":"S3 upload error:",t)}finally{k()}}},k=()=>{f.removeEventListener("message",h);delete window.GzipsentMessages[g]};
f.addEventListener("message",h);window.GzipsentMessages[g]=!0;f.postMessage({id:g,data:a,url:c,isBeacon:b,heatmapHsrVid:e})}else window._heatDEBUG&&console.warn("GzipWebWorker received null/undefined data")}function hb(){if(""!==window.customPagePerformanceTiming){var a={},c=new URLSearchParams(window.customPagePerformanceTiming),b={pf_net:"networkTime",pf_srv:"serverTime",pf_tfr:"transferTime",pf_dm1:"domProcessingTime",pf_dm2:"domCompletionTime",pf_onl:"onLoadTime"};for(const [d,e]of Object.entries(b))c.has(d)&&
(b=parseInt(c.get(d),10),isNaN(b)||(a[e]=b));return a}if(!window.HeatmapPerformanceAlias)return null;c=window.HeatmapPerformanceAlias;(a="object"===typeof c.timing&&c.timing?c.timing:void 0)||(a="function"===typeof c.getEntriesByType&&c.getEntriesByType("navigation")?c.getEntriesByType("navigation")[0]:void 0);if(!a)return null;c={};a.connectEnd&&a.fetchStart&&a.connectEnd>=a.fetchStart&&(c.networkTime=Math.round(a.connectEnd-a.fetchStart));a.responseStart&&a.requestStart&&a.responseStart>=a.requestStart&&
(c.serverTime=Math.round(a.responseStart-a.requestStart));a.responseStart&&a.responseEnd&&a.responseEnd>=a.responseStart&&(c.transferTime=Math.round(a.responseEnd-a.responseStart));b=a.domLoading;"undefined"!==typeof b&&null!==b?a.domInteractive&&a.domLoading&&a.domInteractive>=a.domLoading&&(c.domProcessingTime=Math.round(a.domInteractive-a.domLoading)):a.domInteractive&&a.responseEnd&&a.domInteractive>=a.responseEnd&&(c.domProcessingTime=Math.round(a.domInteractive-a.responseEnd));a.domComplete&&
a.domInteractive&&a.domComplete>=a.domInteractive&&(c.domCompletionTime=Math.round(a.domComplete-a.domInteractive));a.loadEventEnd&&a.loadEventStart&&a.loadEventEnd>=a.loadEventStart&&(c.onLoadTime=Math.round(a.loadEventEnd-a.loadEventStart));a.loadEventEnd&&a.navigationStart?c.pageLoadTime=Math.round(a.loadEventEnd-a.navigationStart):a.loadEventEnd&&a.startTime&&(c.pageLoadTime=Math.round(a.loadEventEnd-a.startTime));return c}function ib(a){const c=hb();if(!c)return a;let b="";const d={networkTime:"pf_net",
serverTime:"pf_srv",transferTime:"pf_tfr",domProcessingTime:"pf_dm1",domCompletionTime:"pf_dm2",onLoadTime:"pf_onl",pageLoadTime:"pf_ld"};for(const [e,f]of Object.entries(d))c[e]&&(b+=`&${f}=${c[e]}`);window.performanceTracked=!0;return a+b}function jb(a){function c(f=""){var g=new URLSearchParams(window.location.search);window.hasQuery=!1;const h=!1!==window.heatmapRateLimiting?.trackvariant;window.heatmapRateLimiting?.acceptedTags&&g.forEach((k,m)=>{if(window.heatmapRateLimiting.acceptedTags.includes(m))if(window.hasQuery=
!0,"variant"==m&&h)if(window.heatmapSessionTag.params[m]){m="variant";let l=0;for(;window.heatmapSessionTag.params[m]&&window.heatmapSessionTag.params[m]!==k&&8>l;)l++,m="variant_"+l;0<l&&8>l&&(window.heatmapSessionTag.params[m]=k)}else window.heatmapSessionTag.params[m]=k;else if("variant"!==m||"view"===m&&window.shopliftInstance)window.heatmapSessionTag.params[m]=k});if(g=z("_heatmap_event_tag"))window.hasQuery=!0,window.heatmapSessionTag.partner_tag=JSON.parse(g);va(window.currentHeatmapURL)&&
!window.isSubdomain&&(window.hasQuery=!0,window.isSubdomain=!0,window.heatmapSessionTag.params.subdomain=(new URL(location.href)).hostname);if(window.hasQuery&&0!==window.heatmapSiteHsr&&window.hmWS)try{if(Object.keys(window.heatmapSessionTag).length){if(window.visitRecordSent.session_tag&&(delete window.heatmapSessionTag.partner_tag,!Object.keys(window.heatmapSessionTag.params).length))return;window.heatGlobalPayload.device_type=window.hDeviceId;window.heatGlobalPayload.idsitehsr=window.heatmapSiteHsr;
window.heatGlobalPayload.request="sessionTags";window.heatGlobalPayload.sessionTags=window.heatmapSessionTag;window.hmWS.send(JSON.stringify({action:"staging-visits",data:window.heatGlobalPayload,streamName:window.VISITSTREAM,requestTime:window.formatDateUTC?.()||(new Date).toISOString()}),"sessiontags");if(window.heatmapSessionTag.partner_tag||Object.keys(window.heatmapSessionTag.params).length){const k=window.btoa(encodeURIComponent(JSON.stringify(window.heatGlobalPayload)));navigator.sendBeacon(`https://sstags.heatmapcore.com/?data=${k}&id=${window.generatedIdVisit}&idl=${window.generatedIdloghsr}&sid=${window.preHeatmapSiteId}`)}window.heatmapSessionTag.partner_tag&&
(localStorage.removeItem("_heatmap_event_tag"),window.visitRecordSent.session_tag=!0);window.isSubdomain&&delete window.heatmapSessionTag.params.subdomain;e=!0;b.add(f)}}catch(k){}}const b=new Set;let d=window.location.href,e=!1;setInterval(()=>{const f=currentHeatmapURL;if(!b.has(f)&&(f!==d||!e&&(f.includes("variant")||f.includes("utm_source")||f.includes("view="))||z("_heatmap_event_tag"))||va(window.currentHeatmapURL))c(f),d=f;[1910,2184].includes(window.preHeatmapSiteId)&&("undefined"===typeof ConversionsHandler&&
C(`${window.trackingPath}/conversions.js?siteId=${window.preHeatmapSiteId}`),1910==window.preHeatmapSiteId&&"undefined"!==typeof processSkinnyrx&&processSkinnyrx(window.preHeatmapSiteId),2184==window.preHeatmapSiteId&&"undefined"!==typeof vetrinexlabsConversion&&vetrinexlabsConversion(window.preHeatmapSiteId))},2500)}function kb(){function a(b){try{const d=document.getElementsByTagName("script");for(let e=0;e<d.length;e++)if(d[e].src&&d[e].src.includes(b))return!0;return"undefined"!==typeof window.Calendly||
"undefined"!==typeof window.Cal||Array.from(document.querySelectorAll("iframe")).some(e=>e.src.includes("form.jotform.com"))||Array.from(document.querySelectorAll("iframe")).some(e=>e.src.includes("cnvrsnly.com"))?!0:!1}catch(d){return!1}}function c(b,d,e,f){let g=z("_heatmapConfigs","leadConvCount")||0;g++;K("leadConversion",window.heatmapSiteHsr,{eventType:d,target:e,idgoal:b,referrer:f,count:g,device_type:window.hDeviceId});Ia();x("leadConvCount",g,"_heatmapConfigs")}(a("calendly")||a("form.jotform")||
a("app.cal.com"))&&window.addEventListener("message",b=>{try{"https://calendly.com"===b.origin&&b.data?.event&&0===b.data?.event.indexOf("calendly.")&&"calendly.event_scheduled"===b.data.event&&c(1,b.data.event.split(".")[1],b.data.event,b.data.payload.event.uri),b.origin.includes("submit.jotform.com")&&b.data?.action&&b.data?.action.includes("submission-completed")&&c(1,"jotform_form_submitted",b.data.action,b.data.data),b.origin.includes("cal.com/api/book/event")&&"undefined"!==typeof b.data?.eventTypeId&&
c(1,"cal_event_scheduled","cal_event_scheduled",`https://cal.com/api/book/event/${b.data?.eventTypeId}`),b.origin.includes("app.cal.com")&&"undefined"!==typeof b.data?.type&&"bookingSuccessfulV2"===b.data?.type&&c(1,"cal_event_scheduled","cal_event_scheduled",`https://cal.com/api/book/event/${b.data?.data?.uid}`),b.origin.includes("cnvrsnly.com")&&"undefined"!==typeof b.data[0]&&"msgsndr-booking-complete"==b.data[0]&&c(1,"booking_completed","booking_completed",`https://cnvrsnly.com/widget/booking/${b.data[1].calendarId}`)}catch(d){}})}
function J(a,c="hCart",b={}){setTimeout(()=>{ea()},2E3);if(localStorage.getItem(c)&&"screen_view"!=a)return!0;let d={};"screen_view"===a&&(d={screen_name:b[2].screen_name,questionnaire_name:b[2].questionnaire_name});a={idsite:window.preHeatmapSiteId,heatWPx:{_idv:A,_idl:window.generatedIdloghsr,_hsr:window.heatmapHsrIds,tag:{custom_tag:a},idsite:window.preHeatmapSiteId,event:d},shref_id:aa,shref_id_ch:oa,source:a,device_type:window.hDeviceId};localStorage.setItem(c,!0);navigator.sendBeacon(`${window.dedicatedPath}heatmap.php?data=${window.btoa(encodeURIComponent(JSON.stringify(a)))}&request=tags`)}
function La(a="purchase"){if("undefined"!==typeof dataLayer)for(let c of dataLayer)if(typeof c[1]&&c[1]===a&&typeof c[2]?.transaction_id){const b={idsite:window.preHeatmapSiteId,idorder:c[2]?.transaction_id||"",revenue:c[2].value||0,items:c[2].items?.map(d=>({title:d?.item_name?.replace(/"/g,""),quantity:d.quantity||0,sku:d.item_id||"",price:d.price||0})),_idv:window.generatedIdVisit,currency:c[2]?.currency||"USD"};localStorage.setItem("purchase"==a?"locConv":"locBegin",JSON.stringify(b))}}function Ma(){try{La();
if("undefined"!==typeof Shopify)return!0;"undefined"===typeof ConversionsHandler&&C(`${window.trackingPath}/conversions.js?siteId=${window.preHeatmapSiteId}`);setTimeout(()=>{"undefined"!==typeof ConversionsHandler&&(convObj.clientsToTrigger(),convObj.lambdaDataLayerObject())},1E3)}catch(a){}}function Na(a){if("undefined"!==typeof a[0]&&"undefined"!==typeof a[1])return a[1];if("undefined"!==typeof a.event)return a.event;window._heatDEBUG&&console.log("Not a recognizable event format:",a);return""}
function Oa(a){if(!a)return null;for(const c of lb)for(const b of c.patterns)if(b.test(a))return c;return null}function mb(a,c){a=decodeURIComponent(a);a=a.replace(/www\./i,"");a=a.split("?")[0];a=a.trim().replace(/\/+$/,"");a=X(a,c);return a.replace(/\/+$/,"")}function Pa(a,c=!1,b){b=z("_heatmapConfigs","_userJourney");if("function"===typeof doneLeadCaptureInstruction)return!0;try{let e=1;if(b){var d=Object.keys(b);e=d.length+1}b||={};if(!window.allowedHeatmapSiteIds.includes(r)&&(p().origin.includes("heatmapcore")||
p().origin.includes("heatmap.com")))return!0;if(1<e&&a.includes("reset_hsr"))return b[e-1].idSiteHsr||(b[e-1].idSiteHsr=window.heatmapSiteHsr,x("_userJourney",b,"_heatmapConfigs")),!0;let f=`${p().href}`;b[e]={event:a.includes("pageviews")?"page_viewed":a,pageUrl:mb(f,window.preHeatmapSiteId),idVisit:A,idSiteHsr:window.heatmapSiteHsr,idLogHsr:window.generatedIdloghsr,timeStamp:(new Date).toISOString(),deviceType:window.hDeviceId};if(70<=e)return!0;a={"/cart":"cart_viewed","/checkout":"checkout_viewed",
"/checkout/shipping":"shipping_viewed","/checkout/complete":"conversion","/collections":"collection_viewed","/product-category":"collection_viewed","/categoria-prodotto":"collection_viewed","/thank-you":"conversion","/thank_you":"thank_you","/products/":"product_viewed","/produkt/":"product_viewed","/prodotto/":"product_viewed"};if("page_viewed"===b[e].event){for(const h in a)(new RegExp(h,"ig")).test(f)&&(b[e].event=a[h]);"/"===p().pathname&&(b[e].event="page_viewed");1!==e&&(f===b[d.length].pageUrl&&
(b[e].event="page_viewed"),b[e-1].idSiteHsr||(b[e-1].idSiteHsr=localStorage.getItem("prevHsr")));if("product_viewed"===b[e].event&&"product_viewed"!==Qa())return!0;["page_viewed","page_reload","collection_viewed"].includes(b[e].event)&&(b[e].title=decodeURIComponent(window.globalFunctions.extractNameFromURL()));window.createNewVisitRequired&&(b[e].new_user=!0);window.globalFunctions.previousIdVisit&&(b[e].return=!0,b[e].prev_idv=window.globalFunctions.previousIdVisit);"conversion"!=b[e].event||window.isGoalBuyer||
(b[e].event="page_viewed")}if(["link_clicked","button_clicked","add_to_cart","shop_now_clicked","conversion"].includes(b[e].event)&&1!==e&&(b[e-1].idSiteHsr||(b[e-1].idSiteHsr=localStorage.getItem("prevHsr")),b[e-2].idSiteHsr||(b[e-2].idSiteHsr=localStorage.getItem("prevHsr")),"conversion"==b[e].event&&"conversion"==b[e-1].event))return!0;parseInt(window.isGoalBuyer)&&"conversion"!==b[e-1].event&&(b[e].event="conversion",b[e].is_purchaser=!0,b[e].purchaser_value=window.isGoalBuyerValue,localStorage.removeItem("wPxIsGoalBuyer"));
if(!b[e].event.length)return!0;c&&(b[e].selector=c);let g=b[e].event;if(window.journeyEventsMap[g])return!0;window.journeyEventsMap[g]=!0;["product_viewed","collection_viewed","cart_viewed"].includes(g)&&setTimeout(()=>{J(g)},1E3);window.heartBeatBeacons=""}catch(e){}}function nb(){const a=location.pathname.replace(/^\/+|\/+$/g,"").toLowerCase();if(["","index","home"].includes(a))return"homepage_viewed";if(/^collections\/[^\/]+\/[^\/]+$/.test(a)||/^products\/[^\/]+$/.test(a)||/^prodotto\/[^\/]+$/.test(a)||
/pages\/pdp/i.test(a)||/^weekly-menu\/[^\/]+$/.test(a)||/^tranquil-watch-lp/.test(a)||/^native-creatine-special-offer/.test(a)||/^special-offer-native-hydrate/.test(a)||/^reasons-every-woman-needs-this-powder/.test(a)||/^collagen-warnings-everyone-over/.test(a)||/^struggling-with-leg-and-foot-swelling/.test(a))return J("product_viewed","product_viewed"),"product_viewed";var c;(c=/^collections\/[^\/]+$/.test(a))||(c=(c=document.getElementById("prodlist"))?10<=c.getElementsByClassName("productframe").length:
!1);return c||/^product-category\/[^\/]+\/?$/.test(a)||/^categoria-prodotto\/[^\/]+\/?$/.test(a)||/^tag-prodotto\/[^\/]+\/?$/.test(a)||/^\/pages\/bundle/.test(a)?(J("collection_viewed","collection_viewed"),"collection_viewed"):"other"}function la(){var a=nb();["collection_viewed","product_viewed"].includes(a)?Pa(a):(a=Qa(),Pa("other"!==a?a:"pageviews"))}function ob(){var a=[...document.querySelectorAll("img")].filter(b=>b.clientWidth&&b.clientHeight);if(0===a.length)return{size:0,count:0};const c=
a.reduce((b,d)=>{const e=d.clientWidth*d.clientHeight;return e>b.size?{size:e,width:d.clientWidth,height:d.clientHeight}:b},{size:0,width:0,height:0});a=a.filter(b=>b.clientWidth*b.clientHeight===c.size).length;return{size:c.size,width:c.width,height:c.height,count:a}}function pb(){return[...document.querySelectorAll("*")].filter(a=>"none"!==window.getComputedStyle(a).display&&/\$\d+|\d+\s?USD|\d+\s?EUR|\d+\s?GBP/.test(a.innerText)).length}function qb(){const a=[...document.querySelectorAll("img")],
c=document.querySelector('button.add-to-cart, button.single_add_to_cart_button, button[data-add-to-cart], button[aria-label*="add to cart"], button[aria-label*="add to bag"], button[name="add-to-cart"]'),b=document.querySelector(".image-carousel, .product-gallery, .swiper, [data-carousel]");return a.some(d=>d.clientWidth>=.4*window.innerWidth)&&c&&b}function Qa(){var a=location.href.toLowerCase(),c=location.pathname.replace(/\/+$/,"").toLowerCase();c=""===c||"/"===c||"/index"===c||"/home"===c;var b=
/(\/checkout|\/checkouts)/.test(a),d=/checkout|order summary|payment|shipping|review order|billing/.test(document.body.innerText.toLowerCase());if(b&&d)return"checkout";a=/(\/product\/|\/products\/|\/p\/|\/item\/|\/shop\/)/.test(a);b=[".product-title",".product-price",".add-to-cart",".product-description"].some(g=>document.querySelector(g))||"product"===document.querySelector('meta[property="og:type"]')?.content||[...document.querySelectorAll('script[type="application/ld+json"]')].some(g=>{try{return["Product"].includes(JSON.parse(g.innerText)["@type"])}catch{return!1}});
const {size:e,count:f}=ob();d=pb();d=e<.55*window.innerWidth*window.innerHeight*.55&&3<f&&3<d;return!c&&d?"collection_viewed":!c&&a&&b||!c&&(b||qb())?"product_viewed":c?"homepage_viewed":"other"}function rb(){"undefined"===typeof window.dataLayer&&(window.dataLayer=[]);const a=window.dataLayer.push;window.dataLayer.push=function(){const c=a.apply(this,arguments),b=arguments[0];if(b)try{const d=Na(b),e=Oa(d);if(e){const f=Array.isArray(b)?b[2]:b;window._heatDEBUG&&console.log(`Processed ${e.handlerTag} event`);
"checkout_completed"===e.handlerTag?Ma(b):J(e.handlerTag,e.processingTag,f)}}catch(d){console.error("Error processing dataLayer push:",d)}return c}}function ya(){try{let a=!1,c=window.location.href;if(/order-confirmation|confirmation|efy-order-fb/ig.test(c)||/checkout/ig.test(c)||/thankyou/ig.test(c)||/order-received/ig.test(c)||/mindfuel/ig.test(c)||/checkout-received/ig.test(c)||/onepage\/success/ig.test(c)||/ordermanagement/ig.test(c)||/\d+\/orders\/[a-zA-Z0-9]+/.test(location.href))a=!0;if([2243].includes(window.preHeatmapSiteId)&&
!a){const b=document.querySelector('div[class="header-content"] a');b&&b.addEventListener("click",function(e){"undefined"===typeof ConversionsHandler&&C(`${window.trackingPath}/conversions.js?siteId=${window.preHeatmapSiteId}`)});const d=document.querySelectorAll('div[class="xola-checkout"] button');d&&0<d.length&&d.forEach(e=>{e.addEventListener("click",function(f){"undefined"===typeof ConversionsHandler&&C(`${window.trackingPath}/conversions.js?siteId=${window.preHeatmapSiteId}`)})})}a&&"undefined"===
typeof ConversionsHandler&&C(`${window.trackingPath}/conversions.js?siteId=${window.preHeatmapSiteId}`);localStorage.getItem("taboola:shopify:add_to_cart")&&J("add_to_cart","hCart")}catch(a){}}function sb(){const a=localStorage.getItem("phClicks");a&&window.globalFunctions.GzipWebWorker(a,"https://clicks.heatmapcore.com/",!0,"clicks");tb.processAll();kb();rb();if("undefined"!==typeof window.dataLayer)for(const c of window.dataLayer)try{const b=Na(c),d=Oa(b);if(d){const e=Array.isArray(c)?c[2]:c;"checkout_completed"===
d.handlerTag?Ma(c):J(d.handlerTag,d.processingTag,e);"checkout_started"===d.handlerTag&&La("begin_checkout");window._heatDEBUG&&console.log(`Processed existing ${d.handlerTag} event`)}}catch(b){console.error("Error processing dataLayer entry:",b)}}if(window.trackingHeatmapBegan)return!0;window.trackingHeatmapBegan=!0;(function(){const a=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;return"1"===a||1===a})();var aa=1,oa="undefined"!==typeof Shopify?"Yes":"No";"undefined"!==typeof ShopifyAnalytics&&
"undefined"!==typeof ShopifyAnalytics.lib?.user&&(aa=ShopifyAnalytics.lib.user().traits().uniqToken);if(U())return!0;window.silenceHeatMapLogs=window.silenceHeatMapLogs||!1;window.hErrorLogs=window.hErrorLogs||[];window.ppStartTime=performance.now();window.heatLoadedScripts=[];window.createNewVisitRequired=!1;window.saveClicksToLocal=!0;window.heartBeatBeacons="";window.isReturningUser=0;window.MaxUserScroll=0;window.scrollPercentage=0;window.globalFunctions={};window.tempSocket=!1;window.ignoreReadyState=
!1;window.exitingPageNow=!1;window.heatmapApiPath="https://api.heatmap.com";window.dedicatedPath="https://conversions.heatmapcore.com/";window.trackingPath="https://dashboard.heatmap.com";window.stagingPath="https://stage1.heatmapcore.com";window.journeyPath="https://ujourney.heatmapcore.com";window.sessionTagQueryParam=[];window._heatmap_custom_tags=window._heatmap_custom_tags||[];window.heatmapSessionTag=window.heatmapSessionTag||{params:{}};window.isGoalBuyer=localStorage.getItem("heatIsGoalBuyer");
window.isGoalBuyerValue=localStorage.getItem("heatIsGoalBuyerValue");window.isGoalBuyerCurrency=localStorage.getItem("heatIsGoalBuyerCurrency");window.isGoalBuyerAmount=localStorage.getItem("heatIsGoalBuyerAmount");window.HeatclickedSelectors=new Set;window.userCanBeTracked=!0;window.preloadContent={};window.userEventsCounter=0;window.IS_TQA_SESSION="0";let pa=null,Ra=0;clcks=[];window.VISITSTREAM="STTrackerCustomIds";window.documentTitle=document.title;window._heatmap_custom_tags.forEach(function(a){window.heatmapSessionTag.params[a.name]=
a.value});window.visitRecordSent={loghsr:!1,visit:!1,pageview:!1,preprocessor:!1,heatmaplight:!1,to_generate:!1,loadtimesent:!1};window.nodeConfigs={};window.userScrollData={};window.exitEventSent=!1;window.defaultEventTimeout=100;window.globalObjects={KINESISGATEWAY:"https://kinesis.heatmap.com/data",KINESISSTREAM:"kinesisForProduction"};var ub={},Sa="",r=F()||window.heatClientId||0,I=p().origin,vb=!!window.browserState&&"bot-testing"==window.browserState;window._heatmapDEBUG=!1;window.preHeatmapSiteId=
r;window.savedBreakPoints=localStorage.getItem("heatmapDebugger");window.savedBreakPoints?(window.savedBreakPoints=JSON.parse(window.savedBreakPoints),window.heatmapBreakPoints=window.savedBreakPoints?.heatmapCDBreakPointMenuItems||{}):window.heatmapBreakPoints={};if("undefined"===typeof G)var G=window.heatUrl||window.trackingPath;if("undefined"===typeof H){var H=window._heatmap_paq=window._heatmap_paq||[];Array.isArray(window._paq)&&0<window._paq.length&&(window._paq.every(a=>{if(Array.isArray(a)){const [c,
b]=a;return!("setTrackerUrl"===c&&b!==G)}return!0})?Array.isArray(window._paq)&&(window._heatmap_paq=window._paq):H.push(["setTrackerUrl",G+"heatmap.php"]));Array.isArray(H)&&!H.some(a=>Array.isArray(a)&&"setTrackerUrl"===a[0])&&H.push(["setTrackerUrl",G+"heatmap.php"])}else H=window._heatmap_paq;let fa=!0;window.addEventListener("beforeunload",N);(function(){F();var a=JSON.parse(localStorage.getItem("heatmapDebugger"));a?(a.hasOwnProperty("jsFilesStatus")&&delete a.jsFilesStatus,a.hasOwnProperty("heatmapLightLT")&&
delete a.heatmapLightLT,a.hasOwnProperty("conversionsLT")&&delete a.jsFilesStatus,a.hasOwnProperty("conversionsLT")&&delete a.conversionsLT,a.hasOwnProperty("heatmapCDPreprocessor")&&delete a.heatmapCDPreprocessor,a.hasOwnProperty("heatmapCDHeatmapLight")&&delete a.heatmapCDHeatmapLight,a.hasOwnProperty("heatmapCDConversions")&&delete a.heatmapCDConversions):a={};localStorage.setItem("heatmapDebugger",JSON.stringify(a));a=p().href.includes("debugMode");localStorage.removeItem("heatmap_cxd_visit_logs_hsr_plt_status");
if(a||localStorage.getItem("setDebug"))window._heatmapDEBUG=!0,localStorage.setItem("setDebug",1),C(`${G}heatmap-debugger.js`),x("heatmapCDPreprocessor",{status:1,data:{}},"heatmapDebugger")})();window.heatmapIsLoaded=!1;window.contentEngagement=!1;window.hDeviceId="undefined"===typeof navigator?1:480>=window.innerWidth||480>=window.innerHeight?3:480<window.innerWidth&&850>=window.innerWidth?2:1;window.currentHeatmapURL=p().href;window.Client_url=new URL(window.currentHeatmapURL);window.heatSearchParams=
new URLSearchParams(window.location.search);window.heatPauseBeforeSCreenshot=window.currentHeatmapURL.includes("pause_before_screenshot=1");window.heatmapRateLimiting=z("_heatmapConfigs","heatmapTracking");var S=new URL(window.currentHeatmapURL);S.search="";window.heaturl=S;window.clicksContainer=[];window.heatSiteHref=S.href;window.configsResponse={};window.heatmapConfigsHasBeenAssigned=!1;window.hrs_vidp=L(10);window.hrs_pvidp=L(6);window._heatDEBUG=!1;window._RollUpDEBUG=!1;window.journeyEventsMap=
{};window.shouldCleanupSelectors=!0;window.shouldSetUniqueHeatmapIds=[1932,179,3241,3193,3268,3308,3276,3226,3708].includes(r);const ma="intelligem_variant utm_term utm_medium utm_campaign utm_content utm_source custom_event_tag tw_source tw_profile_id tw_medium tw_campaign add_to_cart open_cart ad_id adset_id adset pr_prod_strat pr_rec_id pr_rec_pid pr_ref_pid pr_seq view close_cart remove_from_cart checkout_started checkout_completed purchase refund campaign_id subdomain".split(" ");var E=0,Za=
[],ja=p().href.includes("heatmap_config=1");myHeatEnv=z("_heatmapConfigs","_heatMapEnvRecord");window.generatedIdloghsr=P(r,"_idl");var A=function(a=!1,c=null){var b=null,d=!1,e=null;if(-1<window.location.href.indexOf("hVisitId=")){d=!0;var f=(new Date).getTime();e=window.location.href.split("hVisitId=")[1].split("&")[0]}b=z("_heatmapConfigs","_heatIdVisit");d={idVisit:d?e:W(`_heatVid_${c}`),_heatIdvUpdated:d?f:W(`_heatIdvUpdated_${c}`)};window._heatDEBUG&&console.log("cookieVisitLog:",d);f=!!d.idVisit;
e=!!b;!0===a?(window.createNewVisitRequired=!0,b=P(c,"_idv")):f||e?(a=(new Date).getTime()-(f?d._heatIdvUpdated:b._heatIdvUpdated),1800<Math.floor(a/1E3)?(window.isReturningUser=1,window.isGoalBuyer=0,Sa=f?d.idVisit:b.idVisit,x("heatmapClientId",0,"_heatmapConfigs"),b=P(c,"_idv"),window.createNewVisitRequired=!0):(b=f?d.idVisit:b.idVisit,Ua(c,b)),localStorage.setItem("_heatVid",b)):(window.createNewVisitRequired=!0,b=P(c,"_idv"));window.createNewVisitRequired&&(localStorage.removeItem("demonstrationModeCaptureScreen"),
x("_userJourney",null,"_heatmapConfigs"),x("leadConvCount",0,"_heatmapConfigs"),"_heatmap_event_tag heatIsGoalBuyer update_hsr hCart hCheck hPdp product_viewed collection_viewed vUUID hCartData".split(" ").forEach(g=>localStorage.removeItem(g)),["vapour-age","vapour-value"].forEach(g=>{document.cookie=`${g}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}),x("_heatEventsCount",0,"_heatmapConfigs"));f||O(`_heatVid_${c}`,b,1);localStorage.setItem("heatmap_id_site",c);localStorage.setItem("_heatDeviceType",
window.hDeviceId);x("window.isReturningUser",window.isReturningUser,"_heatmapConfigs");Va();return b}(!1,r);window.heatmapConfigsResponse={heatmap:{heatmaps:[],sessions:[],idsite:r,trackerid:L(8)},idsite:r,trackerid:L(8)};window.triggerSinglepage=!0;heatmapDefaultConfigs=window.heatmapConfigsResponse;window.heatmapClientId=z("_heatmapConfigs","heatmapClientId");window.pre_start_time=(new Date).getTime();window._heatmap_pre_clicks=[];window.heatviewsent=0;const Q=(new Date).toISOString().replace(/T/,
":").replace(/\..+/," +0000").replace(/(\d{4})-(\d{2})-(\d{2}):(\d{2}):(\d{2}):(\d{2})/,(a,c,b,d,e,f,g)=>`${d}/${"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[b-1]}/${c}:${e}:${f}:${g}`);window.heatmapRateLimiting||(window.heatmapClientId=null);window.heatGlobalPayload={request:"sessionTags",idsite:r,_idv:A,_idl:window.generatedIdloghsr,res:`${window.innerWidth}x${window.innerHeight}`};window.isSubdomain=!1;U()||setTimeout(xa,0);const wb=a=>a.split(" > ").map(c=>c.replace(/sticky-header:nth-child\(\d+\)/,
"sticky-header")).join(" > ");window.heatmapConfigLoaded=new Promise(a=>{!window.heatmapRateLimiting||window.createNewVisitRequired?(async()=>{try{if(!(I.includes("heatmapcore")||I.includes("heatmap.com")||I.includes("localhost"))||window.allowedHeatmapSiteIds.includes(r)){var c=await fetch("https://c.heatmap.com/configs/tracking.json",{method:"GET"}),b=JSON.parse(await c.text());if("undefined"===typeof b.tracking[r])za();else{var d=b.tracking[r];"undefined"!==typeof b.configuration[r]&&(d.configuration=
b.configuration[r]);window.loadedConfiguration=!0;window.heatmapRateLimiting={...d,acceptedTags:b.acceptedTags||ma,singlePaged:!0,intervalTime:3E3};x("heatmapTracking",d,"_heatmapConfigs")}}a(!0)}catch(e){za(),a(!0)}})():(window.heatmapRateLimiting.singlePaged=!0,a(!0))});(async function(){await window.heatmapConfigLoaded})();null!==myHeatEnv&void 0!==myHeatEnv&&myHeatEnv.length&&(myHeatEnv=z("_heatmapConfigs","_heatMapEnvRecord"),r=myHeatEnv.IDSITE);(function(){var a=localStorage.getItem("_heatmap_unsent");
if(a&&myHeatEnv)try{if(!myHeatEnv.KINESISSTREAM||!myHeatEnv.KINESISGATEWAY)return!0;var c=JSON.parse(a);c.StreamName=myHeatEnv.KINESISSTREAM;navigator.sendBeacon(""+myHeatEnv.KINESISGATEWAY,JSON.stringify(c));localStorage.removeItem("_heatmap_unsent")}catch(b){}})();(function(){try{var a=localStorage.getItem("_heatSessDom");if(a){if(!myHeatEnv.KINESISSTREAM)return!0;let c={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};
navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(c));localStorage.removeItem("_heatSessDom")}}catch(c){}})();var n={simplifyAndJoinSelectors:(a="")=>{let c=[];if(!a.length)return a;a.split(">").forEach(b=>{0<(b.match(/\.[\w-]+/g)||[]).filter(d=>/[a-f0-9-]{36}/.test(d.slice(1))).length&&(b=b.replace(/\.[\w-]+/g,""));c.push(b.trim())});return c.join(" > ")},cssPath:function(a,c){if(a instanceof Element){if(1!==a.nodeType)return"";for(var b=[],d=a;d;){const e=n._cssPathStep(d,!!c,d===
a);if(!e)break;b.push(e);if(e.optimized)break;d=d.parentNode}b.reverse();return b.join(" > ")}},_cssPathStep:function(a,c,b){function d(v){return(v=v.getAttribute("class"))?v.split(/\s+/g).filter(B=>B&&!/[:\[\]/!.|]|(\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|(\d{5,})/.test(B)).map(B=>"$"+B):[]}function e(v){if(/^[0-9]|-[0-9-]?/.test(v)){const B=v.length-1;return v.replace(/./g,(y,T)=>{var qa;(qa=0===T&&/^[0-9]|-[0-9-]?/.test(y))||(qa=!(/[a-zA-Z0-9_\-]/.test(y)||160<=y.charCodeAt(0)));qa&&
(T=T===B,y=y.charCodeAt(0).toString(16),1===y.length&&(y="0"+y),y="\\"+y+(T?"":" "));return y})}return v}function f(v){const B={};for(const y of v)B[y]=!0;return B}function g(v){let B=!1;if(v)try{B=1===document.querySelectorAll(`#${v}`).length}catch(T){}var y;if(y=v&&!/\s/.test(v))y=!/^[\w-]+-[a-fA-F0-9]+$/.test(v);return y&&!/[:\[\]/!.]/.test(v)&&!/\d{3,}/.test(v)&&B}if(a.nodeType!==Node.ELEMENT_NODE)return null;const h=a.getAttribute("id");if(c){if(g(h))return new n.DOMNodePathStep("#"+h,!0);c=
a.nodeName.toLowerCase();if("body"===c||"head"===c||"html"===c)return new n.DOMNodePathStep(c,!0)}c=a.nodeName.toLowerCase();if(g(h))return new n.DOMNodePathStep(c.toLowerCase()+"#"+h,!0);var k=a.parentNode;if(!k||k.nodeType===Node.DOCUMENT_NODE)return new n.DOMNodePathStep(c.toLowerCase(),!0);const m=d(a);let l=!1,q=!1,u=-1;if((k=k.children)&&k.length)for(let v=0;(-1===u||!q)&&v<k.length;++v){var t=k[v];if(t===a){u=v;continue}if(q)continue;if(t.nodeName.toLowerCase()!==c.toLowerCase())continue;l=
!0;const B=f(m);let y=m.length;if(0===y)q=!0;else{t=d(t);for(var w of t)if(B.hasOwnProperty(w)&&(delete B[w],y--,0===y)){q=!0;break}}}w=c.toLowerCase();b&&"input"===c.toLowerCase()&&a.getAttribute("type")&&!h&&0===m.length&&(w+='[type="'+a.getAttribute("type")+'"]');if(q)w+=":nth-child("+(u+1)+")";else if(l)for(const v of m)w+="."+e(v.substr(1));return new n.DOMNodePathStep(w,!1)},DOMNodePathStep:function(a,c){this.value=a;this.optimized=c||!1}};n.DOMNodePathStep.prototype={toString:function(){return this.value}};
n.returnOffset=function(a){if(!a.getBoundingClientRect)return{top:0,left:0,width:0,height:0};var c=(a&&a.ownerDocument).documentElement,b=a.getBoundingClientRect();return{top:Math.floor(b.top)+(window.pageYOffset||document.scrollTop||0)-(c.clientTop||0),left:Math.floor(b.left)+(window.pageXOffset||document.scrollLeft||0)-(c.clientLeft||0),width:n.safeMathMax([b.width,n.getWidth(a)]),height:n.safeMathMax([b.height,n.getHeight(a)])}};window.calculatedRus=[];n.safeMathMax=function(a){var c=[],b;for(b=
0;b<a.length;b++)n.isNumber(a[b])&&c.push(a[b]);return 0===c.length?NaN:Math.max.apply(null,c)};n.getHeight=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientHeight:n.safeMathMax([a.scrollHeight,a.offsetHeight,0]):n.getDocumentHeight()};n.getWidth=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientWidth:n.safeMathMax([a.scrollWidth,a.offsetWidth,0]):n.getDocumentWidth()};n.getDocumentHeight=function(){if(null!==
document.body)return n.safeMathMax([document.body.offsetHeight,document.body.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,1]);setTimeout(function(){n.getDocumentHeight()},500)};n.getDocumentWidth=function(){if(null!==document.body)return n.safeMathMax([document.body.offsetWidth,document.body.scrollWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,1]);
setTimeout(function(){n.getDocumentWidth()},500)};n.getWindowSize=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}};n.getScrollTop=function(){try{return window.document.body.scrollTop||window.document.documentElement.scrollTop}catch(a){return 0}};n.isNumber=function(a){return!isNaN(a)};n.serialize=function(a){let c=[];for(let b in a)a.hasOwnProperty(b)&&
c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&")};n.isRageClickx=function(a,c){try{5<=a.length&&a.shift();a.push(c);if(5>a.length)return!1;let b=!0,d=!0,e=!0;for(let f=1;f<a.length;f++)if(e=a[f].s===a[f-1].s,b&&=400>=Math.abs(a[f].ti-a[f-1].ti),d&&=15>=Math.abs(a[f].x-a[f-1].x),d&&=15>=Math.abs(a[f].y-a[f-1].y),!b||!d||!e)return!1;return e&&b&&d?(window._heatDEBUG&&console.log("rage "+c.s+"  "+c.ti),!0):!1}catch(b){}};n.generateId=function(a){let c="";a=a.toString().split("").reduce((b,
d)=>b+d.charCodeAt(0),0);for(let b=0;16>b;b++){const d=a*(b+1)*Date.now()%36;c+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.abs(d))}return c};n.generateVisitId=function(){window.heatBrowFeatures=Aa();var a=heatBrowFeatures;a=(p().userAgent||"")+(navigator.platform||"")+window.JSON.stringify(a)+(new Date).getTime()+Math.random();return n.generateId(a)};n.domainFixup=function(a){var c=a.length;"."===a.charAt(--c)&&(a=a.slice(0,c));"*."===a.slice(0,2)&&(a=a.slice(1));-1!==a.indexOf("/")&&(a=a.substr(0,
a.indexOf("/")));return a};var ia=function(){if(window.heatmapIsLoaded)return!0;Array.isArray(window._heatmap_paq)&&0==window._heatmap_paq.length&&window._heatmap_paq.push(["setTrackerUrl",G+"heatmap.php"]);"undefined"!==typeof window.heatmapRateLimiting&&window.heatmapRateLimiting?.record?.track&&C(`https://dashboard.heatmap.com/heatmap-light.min.js?sid=${r}`)};"complete"!=document.readyState&&"interactive"!=document.readyState&&"loading"!=document.readyState||setTimeout(function(){ia();setTimeout(function(){ia()},
2E3)},1500);window.getTimeSincePageReadyP=function(){return ka?(new Date).getTime()-ka:0};const xb=function(a,c,b){let d;return function(){const e=this,f=arguments,g=b&&!d;clearTimeout(d);d=setTimeout(function(){d=null;b||a.apply(e,f)},c);g&&a.apply(e,f)}}(Ga,200);Ga(!0);"scroll resize wheel touchmove DOMMouseScroll mousewheel keydown".split(" ").forEach(a=>{window.addEventListener(a,xb)});n.simplifyDomain=function(a){return btoa(a).substring(0,8).replace(/[^a-zA-Z0-9]/g,"")};window.DemoModeParam=
Client_url.searchParams.get("pk_demo_mode");window.retrievedDemoData=localStorage.getItem("demonstrationModeCaptureScreen");if(DemoModeParam||retrievedDemoData)(H=Client_url.searchParams.get("redirectUrl"))&&localStorage.setItem("leadRedirect",H),localStorage.setItem("demonstrationModeCaptureScreen",!0),C(`${window.trackingPath}/dmode.min.js`);const gb=()=>{if(window.HeatZipWorker)return window.HeatZipWorker;const a=new Blob([`
		  // Import script once when worker is created
		  importScripts('${G}pako.md5.js');
		  
		  self.onmessage = function(event) {
			var message = event.data;
			var messageId = message.id;
			var fileUrl = message.url;
			var data = message.data;
			var isBeacon = message.isBeacon;
			var heatmapHsrVid = message.heatmapHsrVid;
  
			try {
			  if (isBeacon) {
				var compressedData = pako.deflate(JSON.stringify(data));
				self.postMessage({ 
				  id: messageId, 
				  data: compressedData, 
				  url: fileUrl,
				  isBeacon: true,
				  heatmapHsrVid:heatmapHsrVid
				});
			  } else {
				var compressedData = pako.gzip(JSON.stringify(data));
				self.postMessage({ 
				  id: messageId, 
				  data: compressedData, 
				  url: fileUrl,
				  isBeacon: false,
				  heatmapHsrVid:heatmapHsrVid
				});
			  }
			} catch (error) {
			  self.postMessage({ 
				id: messageId,
				error: error.message,
				isBeacon: isBeacon,
				heatmapHsrVid:heatmapHsrVid
			  });
			}
		  };`],{type:"application/javascript"});window.HeatZipWorker=new Worker(URL.createObjectURL(a));window.HeatZipWorker.onerror=function(c){window._heatDEBUG&&console.error("Worker error:",c.message)};return window.HeatZipWorker};window.GzipsentMessages={};window.debouncedClickHandler=function(a){var c=Date.now(),b=a.type;if(!(pa&&b!==pa&&100>c-Ra)&&(pa=b,Ra=c,"target"in a&&"pageY"in a&&"pageX"in a&&a.target)){window.tagging&&window.tagging.processEvent(a,"click");b=n.returnOffset(a.target);c=parseInt((a.pageX-
b.left)/b.width*2E3,10);var d=parseInt((a.pageY-b.top)/b.height*2E3,10);b=n.cssPath(a.target);var e=null;try{e=document.querySelector(b)}catch(g){b=b.replace(/#[^\s>]+/,""),e=document.querySelector(b)}if(Da(e)&&!Ba(e)){var f=window.getComputedStyle(e,"::after");const g=e.offsetParent;e=e.parentElement;g&&"BODY"!==g.tagName&&f&&"absolute"===f.position&&"0px"===f.left&&"0px"===f.right&&"0px"===f.bottom&&(b="li"===e.tagName.toLowerCase()&&"ul"===g.tagName.toLowerCase()?n.cssPath(e,!1):n.cssPath(g,!1))}1===
c%2&&c++;1===d%2&&d++;if(!isNaN(c)&&!isNaN(d)&&(b=n.simplifyAndJoinSelectors(b),f={ti:(new Date).getTime()-window.pre_start_time,ty:2,s:b.replace(/"/g,""),x:c,y:d,ax:a.pageX,ay:a.pageY,name:a.target.tagName},c={ti:(new Date).getTime()-window.pre_start_time,ty:2,s:b.replace(/"/g,""),x:c,y:d,ax:a.pageX,ay:a.pageY,name:a.target.tagName},!cb(a.target,{pageX:a.pageX,pageY:a.pageY},b)&&(f.s=na(f.s),f.s=window.shouldCleanupSelectors?Ka(f.s):f.s,c.s=f.s,a=Ea(document.querySelector(f.s),f.s),f.rus=na(a.rus),
f.rud=a.rud,f.ruap=f.s,window._RollUpDEBUG&&console.log("selector:",f.s),window._RollUpDEBUG&&console.log("raw rud:",a),window._RollUpDEBUG&&console.log("rud:",f.rud),null!==f.s&&1==Ca(f.s)&&"NaN"!==f.y))){n.isRageClickx(clcks,f)&&(f.meta1="rage");window._heatmap_pre_clicks.push({type:0,data:f});if(b=(a=document.querySelector(f.s))?a.innerText:""){b=b.substring(0,64).replace(/[^a-zA-Z\s]/g,"");!b.length&&"INPUT"===f?.name&&a?.value&&(b=a.value);b=b.trim();try{/add to cart|add to bag|add to basket|buy now|buy it now/i.test(b)&&
J("add_to_cart","hCart"),(b.toLowerCase().includes("checkout")||b.toLowerCase().includes("check out"))&&J("checkout_started","hCheck"),a.classList.contains("single_add_to_cart_button")&&J("add_to_cart","hCart")}catch(g){console.warn("Error processing event tags:",g)}}f.s=Ha(wb(f.s));c.s=f.s;window._heatDEBUG&&console.log("aS",f);window.HeatmapTracker&&window.HeatmapTracker.isInitialized()&&"function"===typeof window.HeatmapTracker.recordData&&(window.HeatmapTracker.recordData("both",f),window.clicksContainer.push(c),
window._heatmap_pre_clicks=[])}}};["click"].forEach(function(a){window.addEventListener(a,window.debouncedClickHandler,!0)});window.generatedIdVisit=A;window.enableHeatmapDebug=function(a=!0){window.IS_TQA_SESSION=a;localStorage.setItem("IS_TQA_SESSION",window.IS_TQA_SESSION)};if(H=localStorage.getItem("IS_TQA_SESSION"))window.IS_TQA_SESSION=H;setTimeout(()=>{window.visitRecordSent.pageview||(window.visitRecordSent.pageview=!0,window.heartBeatBeacons=",pageviews");window.visitRecordSent.preprocessor||
(window.visitRecordSent.preprocessor=!0,window.heartBeatBeacons+=",preprocessor");window.createNewVisitRequired&&!window.visitRecordSent.to_generate&&(window.visitRecordSent.to_generate=!0,window.heartBeatBeacons+=",visits_to_generate");x("heatmapDCPageLoadTime",0,"heatmapDebugger");x("heatmapDCVisit",0,"heatmapDebugger");x("heatmapDCLogHSR",0,"heatmapDebugger");window.clicksHandler=n;window.myHeatEnv=myHeatEnv;window.preHeatmapSiteId=r;window.ppEndTime=performance.now();window.globalFunctions.clean=
ha;window.globalFunctions.previousIdVisit=Sa;window.ppExecutionTime=window.ppEndTime-window.ppStartTime;window.heatUrl=G;window.heatVisitData=ub;window.heatSanitizeURL=D;window.heatmap_set_event_tag=Ja;window.heatmapPushLogsObject=Ya;window.globalFunctions.heatSaveStore=x;window.globalFunctions.parseUserAgent=ta;window.globalFunctions.loadScriptHeatmap=C;window.globalFunctions.heatRetrieveStore=z;window.globalFunctions.extractNameFromURL=Y;window.globalFunctions.validateHeatSelector=Ca;window.globalFunctions.heatmapGenerateUniqueId=
P;window.globalFunctions.heatHasBeforeOrAfterPseudoElement=Da;window.globalFunctions.heatDoesElementHaveChildren=Ba;window.globalFunctions.heatmapReplaceUUIDInSelector=na;window.globalFunctions.setHeatmapCrossDomainCookie=O;window.globalFunctions.heatmapRandomString=L;window.globalFunctions.getHeatmapCrossDomainCookie=W;window.globalFunctions.calculateRusRud=Ea;window.globalFunctions.loadClientOriginHref=p;window._heatmap_set_event_tag=Ja;window._heatmap_custom_event_tag=db;window.globalFunctions.sendHeatBeatBeacon=
K;window.globalFunctions.GzipWebWorker=fb;window.globalFunctions.HeatreplaceComplexWithNthChild=Ka;window.getParentDataAttribute=Ha;window.globalFunctions.setHeatmapIds=Z;window.heatmapRateLimiting&&(window.heatmapRateLimiting.singlePaged=!0,window.heatmapRateLimiting.intervalTime=3E3,window.heatmapRateLimiting.acceptedTags=ma,window.contentEngagement=window.heatmapRateLimiting?.contentEngagement);x("preprocessorLT",`${window.ppExecutionTime}ms`,"heatmapDebugger")},500);setTimeout(()=>{eb();Xa(3E3);
window.shouldSetUniqueHeatmapIds&&Z()},1E3);(function(){window.HeatPreprocessorLoaded="true";const a=new CustomEvent("HeatPreprocessorReady");window.dispatchEvent(a)})();class yb{constructor(a,c=!0,b){this.config={url:a,maxReconnectionAttempts:5,reconnectionDelayMs:5E3,connectionTimeout:1E4,connectionCheckInterval:500};this.websocket=null;this.pendingRequests={};this.reconnectionAttempts=0;this.sectionName=b;c&&this.connect()}async connect(){if(!this.isHeatmapUserAgent()&&this.isDisconnected())try{this.websocket=
new WebSocket(this.config.url),await this.waitForConnection(),this.sendPendingRequests(),this.setupEventListeners()}catch(a){this.websocket=null,this.reconnectIfNeeded()}}setupEventListeners(){this.websocket&&(this.websocket.addEventListener("close",()=>{this.websocket=null;this.reconnectIfNeeded()}),this.websocket.addEventListener("error",()=>{this.websocket=null;this.reconnectIfNeeded()}))}async waitForConnection(){return new Promise((a,c)=>{if(!this.websocket)return c(Error("WebSocket not initialized"));
const b=setInterval(()=>{if(this.isWebSocketOpen()||this.canIgnoreReadyState())clearInterval(b),a()},this.config.connectionCheckInterval);setTimeout(()=>{clearInterval(b);c(Error("WebSocket connection timed out"))},this.config.connectionTimeout)})}send(a,c=""){if(this.isHeatmapUserAgent())return!1;c&&!this.pendingRequests[c]&&(this.pendingRequests[c]=[]);window.ignoreReadyState&&this.connect();try{if(this.isWebSocketOpen()||this.canIgnoreReadyState()){if(this.isAlreadySent(c))return this.cleanUp(c),
!0;this.websocket.send(a);this.cleanUp(c);this.sendPendingRequests();return!0}c&&this.pendingRequests[c].push(a);return!1}catch(b){return console.warn("Error sending WebSocket message:",b),c&&this.pendingRequests[c].push(a),!1}}cleanUp(a){try{a&&window.visitRecordSent&&(window.visitRecordSent[a]=!0,"visit"===a&&(window.heatVisitData={},window.heatviewsent=1),"loghsr"===a&&(window.FirstHSRSentToAPI=!0),this.pendingRequests[a]&&delete this.pendingRequests[a])}catch(c){}}sendPendingRequests(){if(0!==
Object.keys(this.pendingRequests).length)for(const a in this.pendingRequests)this.isWebSocketOpen()&&this.pendingRequests[a].forEach(c=>{this.isAlreadySent(a)?delete this.pendingRequests[a]:(this.websocket.send(c),this.cleanUp(a))})}isAlreadySent(a){return["visit","loghsr","loadtimesent"].includes(a)&&window.visitRecordSent&&window.visitRecordSent[a]}shouldReconnect(){return"recordings"===this.sectionName||"visits"===this.sectionName&&window.visitRecordSent&&(!window.visitRecordSent.loghsr||!window.visitRecordSent.visit)}reconnectIfNeeded(){this.shouldReconnect()&&
this.reconnectionAttempts<this.config.maxReconnectionAttempts&&!this.isHeatmapUserAgent()&&setTimeout(()=>{this.reconnectionAttempts++;this.connect()},this.config.reconnectionDelayMs)}isDisconnected(){return!this.websocket||!!this.websocket.readyState&&this.websocket.readyState!==WebSocket.OPEN}isWebSocketOpen(){return this.websocket&&!!this.websocket.readyState&&(this.websocket.readyState===WebSocket.OPEN||[2191,2674,3193].includes(window.preHeatmapSiteId))}canIgnoreReadyState(){return window.ignoreReadyState||
[2191,2674].includes(window.preHeatmapSiteId)}isHeatmapUserAgent(){return window.loadClientOriginHref&&window.loadClientOriginHref.userAgent&&window.loadClientOriginHref.userAgent.toLowerCase().includes("heatmap")}}window.hmWS=new yb("wss://kinesis.heatmap.com/khsrv/v1",!0,"visits");window.globalObjects.hmWS=window.hmWS;window.HeatmapPerformanceAlias=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;window.customPagePerformanceTiming="";window.heatmapEventQueue=
[];window.sessionEventQueue=[];window.bothEventQueue=[];let Ta=0;window.HeatmapTracker={_initialized:!1,_trackingInterval:null,_exitInterval:null,_sentExitEventCount:0,initialize:function(a){if(a){this._trackingInterval&&(clearInterval(this._trackingInterval),this._trackingInterval=null);this._exitInterval&&(clearInterval(this._exitInterval),this._exitInterval=null);this._sentExitEventCount=0;this.getConfigFromLocalStorage();a.HeatmapSessionRecording={Heatmap:{data:[],hsrids:[window.heatGlobalPayload.idsitehsr]},
Session:{data:[],hsrids:[window.heatGlobalPayload.idsitehsr]},Both:{data:[]},hsrIdsToGetDOM:window.heatGlobalPayload.idsitehsr,isEnabled:function(){return!0},hasTrackedData:!1};var c=this.getRandomInt(2250,5250);this._trackingInterval=setInterval(()=>{this.sendQueuedData(a)},c);this._initialized=!0;this.setupUnloadHandlers(a)}},processHeatErrorLogs:function(){try{const {duplicatesFound:a}=(()=>{const b=document.querySelectorAll("script[src]"),d=new Map;let e=!1;b.forEach(f=>{if((f=f.src)&&!f.includes("blob:")&&
!f.includes("data:")){f=f.split("?")[0];var g=d.get(f)||0;d.set(f,g+1);1===g&&(e=!0,window.hErrorLogs.push({type:"duplicateScript",src:f,stack:"",count:g+1,timestamp:(new Date).toISOString(),location:window.location.href}))}});return{scriptCounts:d,duplicatesFound:e}})();a&&window._heatDEBUG&&console.warn("Duplicate scripts detected on page");const c=[];"undefined"!==typeof window.hErrorLogs&&window.hErrorLogs.length?(window.hErrorLogs.forEach(b=>{if(!b.processed){var d={type:b.type||"unknown",message:"",
file:"",lineno:"",colno:"",stack:b.stack||null,src:"",count:"",timestamp:b.timestamp||(new Date).toISOString(),location:window.location.href,ty:16};b.processed=!0;if("error"===b.type||"unhandledrejection"===b.type)d.message=b.event.message||(b.event.reason?b.event.reason.message:"No message"),d.file=b.event.filename||(b.event.error?b.event.error.fileName:"No file"),d.lineno=b.event.lineno||(b.event.error?b.event.error.lineNumber:"No line number"),d.colno=b.event.colno||(b.event.error?b.event.error.columnNumber:
"No column number"),d.stack=b.event.error?b.event.error.stack:"No stack trace";else if("duplicateScript"===b.type)d.src=b.src,d.count=b.count,d.message=`Duplicate script: ${b.src} (${b.count} instances)`;else if(b.type.startsWith("console_")){const e=b.type.replace("console_","");try{let f="";b.args&&b.args.length&&(f=b.args.map(h=>h instanceof Error?`${h.name}: ${h.message}\n${h.stack||""}`:"object"===typeof h?JSON.stringify(h):String(h)).join(" "));d.message=f||"Empty console message";d.type=`console_${e}`;
const g=b.args?.find(h=>h instanceof Error);if(g){d.stack=g.stack||"";const h=g.stack?.match(/at\s+(.+):(\d+):(\d+)/);h&&(d.file=h[1]||"",d.lineno=h[2]||"",d.colno=h[3]||"")}}catch(f){d.message=`Error processing console log: ${f.message}`,d.type="console_processing_error"}}window.HeatmapTracker&&window.HeatmapTracker.isInitialized()&&"function"===typeof window.HeatmapTracker.recordData&&window.HeatmapTracker.recordData("heatmap",aS);c.push(d)}}),window.hErrorLogs=window.hErrorLogs.filter(b=>!b.processed),
window._heatDEBUG&&c.length&&window._heatDEBUG&&console.log(`Processed ${c.length} error logs:`,c)):window._heatDEBUG&&console.log("No error logs found.")}catch(a){window._heatDEBUG&&console.error("Error in processHeatErrorLogs:",a)}},isInitialized:function(){return this._initialized},setupUnloadHandlers:function(a){window.addEventListener("beforeunload",()=>{window.ignoreReadyState=!0;window.exitingPageNow=!0;this.sendQueuedData(a,!0)});this._exitInterval=setInterval(()=>{window.FirstHSRSentToAPI&&
8>=this._sentExitEventCount&&(window.ignoreReadyState=!0,this.sendQueuedData(a,!0),window._heatDEBUG&&console.log("Periodic exit simulation sent"),this._sentExitEventCount++)},15E3)},getConfigFromLocalStorage:function(){return{get_session:!0}},trackEntryExitPage:function(){const a=(location.origin+location.pathname).replace(/^https?:\/\/(www\.)?/,"https://").replace(/\/$/,"");window._entryExPage=a;localStorage.setItem("_entryExPage",a);window.createNewVisitRequired?(window._entryEnPage=a,localStorage.setItem("_entryEnPage",
a)):window._entryEnPage=localStorage.getItem("_entryEnPage")||a;return{entryPage:window._entryEnPage,exitPage:window._entryExPage}},trackPageView:function(a,c,b=null,d=!1){c=new Date;const e=c.toISOString();window.heatBrowFeatures=Aa();this.trackEntryExitPage();c={_id:wa(r),agent:p().userAgent,uagent:p().userAgent,buyer:window.isGoalBuyer?window.isGoalBuyer:0,rev:window.isGoalBuyerValue?window.isGoalBuyerValue:0,rt:window.isReturningUser,user:$a(),qt:heatBrowFeatures.qt,realp:heatBrowFeatures.realp,
wma:heatBrowFeatures.wma,fla:heatBrowFeatures.fla,java:heatBrowFeatures.java,ag:heatBrowFeatures.ag,cookie:heatBrowFeatures.cookie,test_data:vb,ts:e,dt:window.hDeviceId,an:decodeURIComponent(Y()),ua:JSON.stringify(ta(p().userAgent)),action_name:decodeURIComponent(Y()),h:c.getHours(),m:c.getMinutes(),s:c.getSeconds(),idsite:r,cfu:D(window.currentHeatmapURL)};b&&"object"===typeof b&&Object.assign(c,b);window.lastPageViewData=c;window.HeatmapTracker.sendQueuedDataRequestNow(a,window.heatGlobalPayload.idsitehsr,
[],d,c);return c},recordData:function(a,c){const b=this.getConfigFromLocalStorage();if(b)switch("object"===typeof c&&"undefined"!==typeof c.ti&&c.ti&&c.ti>Ta&&c.ty&&(Ta=c.ti),a){case "heatmap":window.heatmapEventQueue.push(c);break;case "session":b.get_session&&window.sessionEventQueue.push(c);break;case "both":b.get_session&&window.sessionEventQueue.push(c),window.bothEventQueue.push(c)}},sendQueuedData:function(a,c=!1){try{let b=[],d=[];a.HeatmapSessionRecording.Heatmap.hsrids&&a.HeatmapSessionRecording.Heatmap.hsrids.length&&
(b=a.HeatmapSessionRecording.Heatmap.hsrids,window.heatmapEventQueue.length&&(d=d.concat(window.heatmapEventQueue),window.heatmapEventQueue=[]));b.length&&window.bothEventQueue.length&&(d=d.concat(window.bothEventQueue),window.bothEventQueue=[]);b.length&&(c||d.length)&&(a.HeatmapSessionRecording.hasTrackedData=!0,this.sendDataToServer(a,b,d,c))}catch(b){}},sendDataToServer:function(a,c,b,d=!1){this.sendQueuedDataRequestNow(a,c,b,d)},deleteEvObjectKeys:function(a,c){c.forEach(b=>delete a[b]);return a},
serializeObjectToQueryString:function(a,c=""){const b=[];for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const e=a[d],f=c?`${c}[${d}]`:d;"object"===typeof e&&null!==e?b.push(this.serializeObjectToQueryString(e,f)):b.push(`${f}=${encodeURIComponent(e)}`)}return b.join("&")},filterSerializedDomObject:function(a,c=[2,14],b=[],d=null){var e=new URLSearchParams(a);a={};var f,g;for([f,g]of e.entries()){var h=f.match(/^hsr_ev\[(\d+)\]\[(\w+)\]$/);if(h)e=h[1],h=h[2],a.hsr_ev||(a.hsr_ev=[]),
a.hsr_ev[e]||(a.hsr_ev[e]={}),a.hsr_ev[e][h]=g;else if(!b.length||b.length&&b.includes(f))a[f]=g}void 0!==a.hsr_ev&&(a.hsr_ev=a.hsr_ev.filter(k=>k&&c.includes(parseInt(k.ty))),"session"===d&&void 0!==window.page_ev_cnt&&void 0!==window.re_page_count&&a.hsr_ev.forEach(k=>{k.cnt=window.page_ev_cnt++;k.page_cnt=window.re_page_count}));return a},parseQueryString:function(a){const c={};a=(a.startsWith("?")?a.substring(1):a).split("&");for(const d of a){const [e,f]=d.split("=");if(e){var b=decodeURIComponent(e);
a=f?decodeURIComponent(f):"";b.endsWith("[]")?(b=b.slice(0,-2),c[b]||(c[b]=[]),c[b].push(a)):c[b]=a}}for(const d in c)try{if(c[d].startsWith("{")||c[d].startsWith("["))c[d]=JSON.parse(c[d])}catch(e){}return c},removeHsrEvProperties:function(a,c){const b={};for(const d in a)d.startsWith(c)||(b[d]=a[d]);return b},longVisitUUID:function(a){if(localStorage.getItem("vUUID"))return localStorage.getItem("vUUID");let c="";try{const b=BigInt(a).toString(16).padStart(32,"0");c=`${b.slice(0,8)}-${b.slice(8,
12)}-${b.slice(12,16)}-${b.slice(16,20)}-${b.slice(20,32)}`}catch(b){c="000000ab-0000-0000-0000-000000000000"}localStorage.setItem("vUUID",c);return c},appendUTMParams:function(a){var c=new URLSearchParams(window.location.search);const b=[];for(const [d,e]of c.entries())(d.startsWith("utm_")||d.startsWith("tw_"))&&b.push(`${encodeURIComponent(d)}=${encodeURIComponent(e)}`);if(0===b.length)return a;c=a.includes("?")?"&":"?";return a+c+b.join("&")},sendQueuedDataRequestNow:async function(a,c,b,d=!1,
e=null){let f="";if(0!==c.length&&-1!==window.heatmapSiteId&&this.getConfigFromLocalStorage()){var g=null!==e;if(!g){var h=b.filter(u=>2===u.ty).length;window.click_count=h;if(0===b.length&&window.FirstHSRSentToAPI&&!d)return;var k=z("_heatmapConfigs","_heatEventsCount");k=(k?parseInt(k):0)+h;x("_heatEventsCount",k,"_heatmapConfigs");localStorage.getItem("_heatmap_event_tag")&&JSON.parse(localStorage.getItem("_heatmap_event_tag"));(await Promise.all(b.flatMap((u,t)=>Object.keys(u).map(async w=>{const v=
encodeURIComponent(u[w]);return{idx:t,key:w,blob:v}})))).forEach(({idx:u,key:t,blob:w})=>{null!=w&&(f+="&hsr_ev["+u+"]["+t+"]="+w)})}localStorage.setItem("heatmapHsrVid",window.generatedIdVisit||"");k=n?n.getWindowSize():{width:window.innerWidth,height:window.innerHeight};var m=n?n.getDocumentHeight():document.documentElement.scrollHeight;window.scrollMaxPercentage||(window.scrollMaxPercentage=parseInt((window.scrollY||document.documentElement.scrollTop)/(m-window.innerHeight)*100/10*10,10),window.maxScrollHeight=
window.scrollMaxPercentage);window.MaxUserScroll&&window.MaxUserScroll>window.scrollMaxPercentage/10&&(window.scrollMaxPercentage=parseInt(10*window.MaxUserScroll,10),window.maxScrollHeight=window.scrollMaxPercentage);b=window.loadClientOriginHref||{hostname:window.location.hostname,pathname:window.location.pathname,userAgent:navigator.userAgent};var l=`${b.hostname}${b.pathname}`,q=document.referrer.length?document.referrer:I;window.heatmapHsrIds=c;window.max_scroll_height=m>window.max_scroll_height?
m:window.max_scroll_height;window.heatmapClientId=null==window.heatmapClientId?window.heatRetrieveStore?window.heatRetrieveStore("_heatmapConfigs","heatmapClientId"):null:window.heatmapClientId;h="";b="hsr_vid="+window.hrs_vidp+f;b+="&hsr_smp="+window.scrollMaxPercentage;b+="&hsr_ti="+(window.getTimeSincePageReadyP?window.getTimeSincePageReadyP():Date.now());b=b+("&hsr_ids[]="+c)+("&hsr_vw="+encodeURIComponent(k.width));b+="&hsr_vh="+encodeURIComponent(k.height);b+="&hsr_sh="+m;c=n.getWindowSize()?
parseInt(n.getWindowSize().height/m*1E3,10):0;b+="&hsr_fyp="+c;window.heatmapClientId&&(b+=`&sourceIp=${window.heatmapClientId}`,b+="&cip="+window.heatmapClientId);h+="&device_type="+window.hDeviceId;h+="&_idv="+window.generatedIdVisit;h+="&_idl="+window.generatedIdloghsr;h+="&idsite="+r;h+="&res="+window.innerWidth+"x"+window.innerHeight;h+=`&requestTime=${Q}`;h+=`&currentTime=${Q}`;h+="&hsr_return="+(window.isReturningUser||"");h+="&efs_path="+l.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_");h+="&IS_TQA_SESSION="+
window.IS_TQA_SESSION;h+="&shref_id="+aa;h+="&shref_id_ch="+oa;h=h+("&_ref="+q)+("&url="+window.currentHeatmapURL);h=h+("&urlref="+q)+("&pv_id="+window.hrs_pvidp);window._entryEnPage&&(h+=`&entry=${encodeURIComponent(window._entryEnPage)}`);window._entryExPage&&(h+=`&exit=${encodeURIComponent(window._entryExPage)}`);h+=`&exithsr=${window.heatmapHsrIds}`;window.createNewVisitRequired&&(h+=`&entryhsr=${window.heatmapHsrIds}`);d&&!window.FirstHSRSentToAPI&&(h=h+"&preloader=1"+`&clicks=${encodeURIComponent(JSON.stringify(window._heatmap_pre_clicks))}`);
h=ib(h);b=b+"&"+h+("&device_type="+window.hDeviceId);b+="&session_hsr="+window.heatmapHsrIds;b+="&heatmap_hsr="+window.heatmapHsrIds;b+="&ca=1";b+="&shref_id="+aa;b+="&shref_id_ch="+oa;b+="&test_data="+(window.sessionState||"");c=document.querySelector("html").attributes.lang?.nodeValue||navigator.language;b+="&lang="+c;b+="&uagent="+p().userAgent;b+="&user_agent="+p().userAgent;b+="&audit_key="+(window.HeatAuditKey||"");b+="&trigger_client="+localStorage.getItem("pk_trigger_client");if(g&&e||d){if(g=
z("_heatmapConfigs","_heatEventsCount"))h+=`&events_count=${parseInt(g)}`,b+=`&events_count=${parseInt(g)}`;c=this.parseQueryString(h);g=this.parseQueryString(b);g=this.removeHsrEvProperties(g,"hsr_ev");e={...e,...c};e.url=window.currentHeatmapURL;g.url=window.currentHeatmapURL;c=document.referrer.length?document.referrer:I;e._ref=this.appendUTMParams(c);e.urlref=this.appendUTMParams(c);c=this.deleteEvObjectKeys(g,"user_agent IS_TQA_SESSION urlref uagent _ref trigger_client audit_key test_data".split(" "));
h=this.deleteEvObjectKeys(e,"user_agent IS_TQA_SESSION an ts trigger_client ua agent audit_key test_data".split(" "));h.uuid=this.longVisitUUID(window.generatedIdVisit);c.uuid=h.uuid;c={requestTime:Q,uuid:h.uuid,idsite:window.preHeatmapSiteId,idv:window.generatedIdVisit,idl:window.generatedIdloghsr,visit:h,loghsr:c};[1910,2184,586].includes(window.preHeatmapSiteId);d?(d&&!window.FirstHSRSentToAPI&&(e={Data:window.btoa(Fa(e)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/
10),StreamDataset:"Bounce",StreamName:window.globalObjects.KINESISSTREAM},navigator.sendBeacon(window.globalObjects.KINESISGATEWAY,JSON.stringify(e))),([0,2].includes(this._sentExitEventCount)||window.exitingPageNow)&&navigator.sendBeacon(`https://hsr.heatmapcore.com/?data=${window.btoa(encodeURIComponent(JSON.stringify(c)))}&id=${c.idv}&sid=${c.idsite}`),window.hmWS.send(JSON.stringify({action:"staging-visits",data:g,streamName:"STTrackerCustomIds",requestTime:Q}),"exitloghsr")):(window.hmWS.send(JSON.stringify({action:"staging-visits",
data:e,streamName:"STTrackerCustomIds",requestTime:Q}),"visit"),navigator.sendBeacon(`https://hsr.heatmapcore.com/?data=${window.btoa(encodeURIComponent(JSON.stringify(c)))}&id=${c.idv}&sid=${c.idsite}`),window.FirstHSRSentToAPI=!0,la(),setTimeout(sb,2500),jb(G,window.preHeatmapSiteId),window.hmWS.send(JSON.stringify({action:"staging-visits",data:g,streamName:"STTrackerCustomIds",requestTime:Q}),"loghsr"))}b+=d?"&IsExitEvents=true":"&NormalEvents=true";a.HeatmapSessionRecording.numSentTrackingRequests++;
a=this.filterSerializedDomObject(b,[2]);d=this.filterSerializedDomObject(b,[2]);a.hsr_ev&&0!==a.hsr_ev.length&&(a=this.deleteEvObjectKeys(a,["uadata","sessionTags","uagent"]),a.hsr_ev=bb(a.hsr_ev),b=this.serializeObjectToQueryString(a),b={Data:window.btoa(b),PartitionKey:`${(new Date).getTime()}`,StreamDataset:"clicks",StreamName:window.globalObjects.KINESISSTREAM},navigator.sendBeacon(window.globalObjects.KINESISGATEWAY,JSON.stringify(b)),d=this.deleteEvObjectKeys(d,"uadata sessionTags uagent pf_dm1 pf_dm2 pf_ld pf_onl pf_srv entry events_count exit url urlref user_agent efs_path hsr_vw hsr_vh hsr_sh hsr_fyp IS_TQA_SESSION shref_id shref_id_ch _ref pv_id exithsr pf_tfr test_data ca trigger_client NormalEvents audit_key lang hsr_return hsr_ti hsr_smp".split(" ")),
d.hsr_ev=a.hsr_ev,d.idloghsr=window.generatedIdloghsr,window.globalFunctions.GzipWebWorker(JSON.stringify(d),"https://clicks.heatmapcore.com/",!0,"clicks"))}},getRandomInt:function(a,c){return Math.floor(Math.random()*(c-a+1))+a},destroy:function(a){this.sendQueuedData(a,!0);this._trackingInterval&&(clearInterval(this._trackingInterval),this._trackingInterval=null);this._exitInterval&&(clearInterval(this._exitInterval),this._exitInterval=null);this._initialized=!1;this._sentExitEventCount=0}};window.hasQuery=
!1;const tb={processVisually(){window.dataLayer&&window.dataLayer.forEach(a=>{a?._heatmap_split_test&&(a=a._heatmap_split_test,window.heatmap_set_event_tag({partner:a.platform,experiment_id:a.experimentId,experiment_name:a.experimentName,variant_id:a.variantId,variant_friendly_name:a.variantName}))})},processIntelligems(){try{if(!window.visitRecordSent?.intelligems&&window.igData?.user?.getExperiments){var a=window.igData.user.getExperiments();a&&(a.forEach(c=>{try{const d=window.igData.user.getVariations(c.id);
if(d.length){var b=window.igData.user.getVariation(c.id);window._heatmap_set_event_tag({partner:"intelligems_variant",experiment_id:c.id,experiment_name:c.name,variations:d,variant_id:b?.id||c.id,variant_friendly_name:b?.name||c.name})}}catch(d){}}),window.visitRecordSent.intelligems=!0)}}catch(c){}},processConvert(){try{if(!window.visitRecordSent?.convert&&window.convert?.currentData){var a={},c=!0;window.convert.currentData.experiments?a=window.convert.currentData.experiments:window.convert.currentData.experiences&&
(a=window.convert.currentData.experiences);!Object.keys(a).length&&[2697,3026].includes(window.preHeatmapSiteId)&&(c=!1,a=window.convert.data.experiences||window.convert.data.experiments||{});if(Object.keys(a).length){var b=0;for(const d in a){b++;try{const e=a[d];c&&window._heatmap_set_event_tag({partner:`convert_variant_${b}`,variant_friendly_name:e?.variation_name,experiment_id:d,variant_id:e?.variation?.id||e?.variation_id});const f=e?.variations||e?.vars;if(f)for(const g in f){const h=f[g];h&&
window._heatmap_set_event_tag({partner:`convert_variant_${b}`,variant_friendly_name:`${e.name||e.n} - ${h.name}`,experiment_id:e?.id,variant_id:h?.id||g})}}catch(e){}}window.visitRecordSent.convert=!0}}}catch(d){}},processShoplift(){try{if("undefined"!==typeof window.shoplift&&window.shopliftInstance?.testConfigs){var a=(new URLSearchParams(window.location.search)).get("view")||"control";if("function"===typeof window._heatmap_set_event_tag){var c=window.Shopify?.theme?.id?window.Shopify?.theme?.id:
"no_theme_id_set",b=(f,g)=>{if(!Array.isArray(f))return!1;for(let h=0;h<f.length;h++)if(f[h]?.themeId===c||f[h]?.affix===g)return f[h].title;return!1},d=f=>Array.isArray(f)?f[0].type:"",e=f=>Array.isArray(f)?f.map(g=>({name:g?.title||"",id:"theme"===g.type?g?.themeId:g?.affix||g?.isControl?g?.id:"control",isControl:!!g?.isControl,type:g?.type,percentage:100*Number(g?.trafficPercentage)||0})):[];try{for(const f of window.shopliftInstance.testConfigs){if(!f?.id||!f?.title)continue;const g=f.hypotheses||
[],h=b(g,a);if(!1!==h||0<g.length){const k={partner:"shoplift",experiment_id:f.id,experiment_name:f.title,variant_friendly_name:h||f.title,variant_id:"theme"===d(g)?c:a??"control",variations:e(g),test_type:d(g)};window._heatDEBUG&&console.log(k);window._heatmap_set_event_tag(k)}}}catch(f){console?.warn&&window._heatDEBUG&&console.warn("Shoplift processing error:",f.message)}}}}catch(f){}},checkConversion(){try{const a=z("_heatmapConfigs","_userJourney");if(a)for(const c in a)"conversion"===a[c].event&&
(window.isGoalBuyer=1,window.isGoalBuyerValue=localStorage.getItem("heatIsGoalBuyerAmount")||a[c].purchaser_value)}catch(a){}},processAll(){this.processIntelligems();this.processConvert();this.processShoplift();this.processVisually();this.checkConversion()}};var lb=[{patterns:[/choose_meals/i,/add_to_cart/i,/addtocart/i,/add[-_]?to[-_]?basket/i,/addtobasket/i,/product[-_]?added/i,/item[-_]?added/i,/trytagging_add_to_cart/i],handlerTag:"add_to_cart",processingTag:"hCart"},{patterns:[/begin_checkout/i,
/checkout_started/i,/initiate[-_]?checkout/i,/checkout[-_]?initiated/i,/checkout[-_]?begin/i,/checkout[-_]?start/i,/trytagging_begin_checkout/i,/apmokejimas/i,/FundraiseUp.checkoutOpen/i],handlerTag:"checkout_started",processingTag:"hCheck"},{patterns:[/purchase_ga4/,/purchase/i,/order_complete/i,/transactionSuccess/i,/gtm-purchase/i,/dl_purchase/i,/vp_purchase/i,/subscription_created/i,/trytagging_purchase/i,/trytagging_transaction/i,/order-received/i,/FundraiseUp.donationComplete/i],handlerTag:"checkout_completed",
processingTag:"hPurchase"},{patterns:[/screen_view/i],handlerTag:"screen_view",processingTag:"hPageView"}];setTimeout(()=>{la();ya();ea()},3E3);window.enableHeatmapDebug=function(a=!0){window.IS_TQA_SESSION=a;localStorage.setItem("IS_TQA_SESSION",window.IS_TQA_SESSION)}}window.preHeatmapSiteId=0;window.trackingHeatmapBegan=!1;var ba=window.top!==window.self;const M=window.location.href,zb=ra(),Ab=navigator.userAgent;window.allowedHeatmapSiteIds=[578];const Bb=[2777,4082,3880,3112,2926,4339];if((M.includes("heatmap.com")||
M.includes("heatmapcore.com"))&&!window.allowedHeatmapSiteIds.includes(zb))return ba?console.log("\u2705 Likely loaded via Heatmap iframe proxy."):console.log("\u26a0\ufe0f Loaded directly from Heatmap portal \u2014 may be embedded server-side."),!0;window.hErrorLogs=window.hErrorLogs||[];if("undefined"!==typeof window.globalFunctions||window.location.origin.includes("localhost"))return!0;ra();-1<M.indexOf("heatVerToken=")&&-1<M.indexOf(`heatSiteId=${window.preHeatmapSiteId}`)&&navigator.sendBeacon(`https://portal.heatmap.com/backend/websites/confirmation/${window.preHeatmapSiteId}?verify_token=${M.split("heatVerToken=")[1].split("&")[0]}`);
if(U())return!0;let ka=(new Date).getTime();ca()&&document.addEventListener("visitorConsentCollected",da);window.Heatmap=window.Heatmap||{};window.Heatmap.updateConsent=function(p){"boolean"===typeof p?(window.externalPrivacyConsent=p,da({detail:{analyticsAllowed:p}})):"object"===typeof p&&(window.externalPrivacyConsent=p.analytics,da({detail:{analyticsAllowed:window.externalPrivacyConsent}}))};ca()?"undefined"===typeof Shopify?.customerPrivacy&&"function"===typeof Shopify?.loadFeatures?Shopify.loadFeatures([{name:"consent-tracking-api",
version:"0.1"}],function(p){p?console.error("Error loading consent API:",p):V()?(window.heatmapPrivacyAllowed=!0,R()):window.heatmapPrivacyAllowed=!1}):V()?(window.heatmapPrivacyAllowed=!0,R()):window.heatmapPrivacyAllowed=!1:V()?(window.heatmapPrivacyAllowed=!0,R()):window.heatmapPrivacyAllowed=!1;if(ba=!window.heatmapPrivacyAllowed)ba=Ab.includes("HeatmapSiteHealthBot")||Bb.includes(window.preHeatmapSiteId)?!0:!1;ba&&setTimeout(()=>{window.heatmapPrivacyAllowed=!0;R()},1E3)})();
