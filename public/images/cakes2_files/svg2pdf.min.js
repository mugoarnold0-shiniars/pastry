function hexToRgb(e){var t=parseInt(e,16);return(t>>16&255)+","+(t>>8&255)+","+(255&t)}!function(e){function t(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in a)e==r&&(e=a[r]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],s=0;s<n.length;s++){var i=n[s].re,l=n[s].process,f=i.exec(e);if(f){var o=l(f);this.r=o[0],this.g=o[1],this.b=o[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),a=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==a.length&&(a="0"+a),"#"+e+t+a},this.getHelpXML=function(){for(var e=new Array,r=0;r<n.length;r++)for(var s=n[r].example,i=0;i<s.length;i++)e[e.length]=s[i];for(var l in a)e[e.length]=l;var f=document.createElement("ul");f.setAttribute("id","rgbcolor-examples");for(r=0;r<e.length;r++)try{var o=document.createElement("li"),h=new t(e[r]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+h.toHex()+"; color:"+h.toHex(),c.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+e[r]+" -> "+h.toRGB()+" -> "+h.toHex());o.appendChild(c),o.appendChild(d),f.appendChild(o)}catch(e){}return f}}"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.RGBColor=t}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);var pdfSvgAttr={g:["stroke","fill","stroke-width"],line:["x1","y1","x2","y2","stroke","stroke-width","fill"],rect:["x","y","width","height","stroke","fill","stroke-width"],ellipse:["cx","cy","rx","ry","stroke","fill","stroke-width"],circle:["cx","cy","r","stroke","fill","stroke-width"],text:["x","y","font-size","font-family","text-anchor","font-weight","font-style","fill"],path:[],image:[]};function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function rgbToHex(e,t,a){return"#"+componentToHex(e)+componentToHex(t)+componentToHex(a)}var svgElementToPdf=function(e,t,a){var r=void 0===a.removeInvalid?r=!1:a.removeInvalid,n=void 0===a.removeInvalid?1:a.scale,s=void 0===a.x_offset?0:a.x_offset,i=void 0===a.y_offset?0:a.y_offset;void 0!==a.ego_or_link&&a.ego_or_link;return $(e).children().each(function(e,l){var f=$(l);if(f.is("g"))svgElementToPdf(f,t,a);else switch(f.get(0).tagName.toLowerCase()){case"line":t.line(n*parseInt(f.attr("x1")),n*parseInt(f.attr("y1")),n*parseInt(f.attr("x2")),n*parseInt(f.attr("y2")));break;case"rect":t.rect(n*(parseInt(f.attr("x"))+s),n*(parseInt(f.attr("y"))+i),n*parseInt(f.attr("width")),n*parseInt(f.attr("height")),null);break;case"ellipse":t.ellipse(n*parseInt(f.attr("cx")),n*parseInt(f.attr("cy")),n*parseInt(f.attr("rx")),n*parseInt(f.attr("ry")),null);break;case"circle":t.circle(n*(parseInt(f.attr("cx"))+s),n*(parseInt(f.attr("cy"))+i),n*parseInt(f.attr("r")),null);break;case"text":var o=f.attr("font-family"),h=f.attr("font-weight");if(font_face_array[o]){var c=font_face_array[o][0].split("/").slice(-1)[0];t.addFileToVFS(c,font_face_array[o][1]),t.addFont(c,o,h),t.setFont(o)}if(l.hasAttribute("fill")&&"none"!==f.attr("fill")){var d=f.attr("fill").replace("rgb(","").replace(")","").split(",");t.setTextColor(parseInt(d[0]),parseInt(d[1]),parseInt(d[2]))}if(l.hasAttribute("stroke-width")&&t.setLineWidth(Math.abs(parseFloat(f.attr("stroke-width")))),l.hasAttribute("stroke")){var u=f.attr("stroke"),g=new RGBColor(u);g.ok&&t.setDrawColor(g.r,g.g,g.b)}t.setFontType(h);var p=9;l.hasAttribute("font-size")&&(p=parseInt(f.attr("font-size"))*n*1.3333),t.setFontSize(p);var b=t.internal.getFont(o,h).metadata.Unicode;console.log(t.internal.getFont(o,h));var m=0,v=f.text();if(b){m=t.getStringUnitWidth(v,b)*p;t.getStringUnitWidth("awqertyuiopAWS",b),t.getTextDimensions("Text")}var k=0,x=parseInt(f.attr("x")),w=parseInt(f.attr("y"));if(l.hasAttribute("text-anchor")){switch(f.attr("text-anchor")){case"end":break;case"middle":k=m/2;break;case"start":case"default":k=0}f.attr("text-anchor")}var y="alphabetic";l.hasAttribute("dominant-baseline")&&(y=f.attr("dominant-baseline"));var I=0,M=0,B=0,P=0,T=0;if(f.parent("g")[0])if(void 0!==(R=f.parent("g").attr("transform"))&&"undefined"!==R){var S=f.parent("g").attr("transform").split("(")[1].replace(") rotate","");I=parseFloat(S.split(",")[0]),M=parseFloat(S.split(",")[1]);if(B=B=f.parent("g").attr("transform").split("rotate(")[1].replace(")","").split(",")[0],w>0||w<0){"alphabetic"==y?I=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?I-w*Math.sin(B*Math.PI/180)+.5*f[0].getBBox().height:/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())?I-w*Math.sin(B*Math.PI/180)+.75*f[0].getBBox().height:I-w*Math.sin(B*Math.PI/180)+1*f[0].getBBox().height:I-=w*Math.sin(B*Math.PI/180),M=M-w+w*Math.cos(B*Math.PI/180)+.25*f[0].getBBox().height;T=.5*f[0].getBBox().width*Math.sin(B*Math.PI/180),P=.5*f[0].getBBox().width*Math.cos(B*Math.PI/180)}else if(k>0)if(f.parent("g").parent("g").parent("g")[0])T=(j=f.parent("g").parent("g")[0].getBBox().y-M)-j*Math.cos(B*Math.PI/180)-.25*f[0].getBBox().height,P=j*Math.sin(B*Math.PI/180)+.25*f[0].getBBox().height*Math.cos(B*Math.PI/180);else f[0].getBBox().width,f[0].getBBox().height,T=.5*f[0].getBBox().width*Math.sin(B*Math.PI/180),P=.5*f[0].getBBox().width*Math.cos(B*Math.PI/180);else(x>0||x<0)&&(M+=x*Math.sin(B*Math.PI/180))}t.text(n*x+n*I-n*P,n*w+n*M-n*T,v,"left",-B);break;case"path":var A=f.attr("d");svg_regex=/(m|l|h|v|c|s|a|z)/gi,A=A.replace(/(e)?-/g,function(e,t){return t?e:" -"}).replace(svg_regex," $1 ").replace(/,+/g," ").replace(/^\s+|\s+$/g,"").split(/[\s]+/);for(var C=null,z=(e=0,null),F=null,H=(x=null,w=null,[]),q={element:null,prev_numbers:[],point:[]};e<A.length;){var N=[];C=A[e];if(/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/.test(C)&&(C=String(Number(C))),e++,/s/i.test(C)&&(q.point=find_s_points(C,q)),0==/z/i.test(C))for(;0==svg_regex.test(A[e])&&e!=A.length;)N.push(n*parseFloat(A[e])),e++;switch(C){case"m":if(0!=H.length&&t.lines(H,z,F,[1,1],null),H=[],null==q.element?(x=N[0],z=N[0],w=N[1],F=N[1]):(x+=N[0],z+=N[0],w+=N[1],F+=N[1]),2!=N.length){var L=change_numbers(N.slice(2,N.length),x,w,!0);_.each(L,function(e){H.push(e)}),x+=sums(L,!0),w+=sums(L,!1)}break;case"M":if(0!=H.length&&t.lines(H,z,F,[1,1],null),H=[],x=N[0],z=N[0]+s,w=N[1],F=N[1]+i,2!=N.length){x=N[0],w=N[1];L=change_numbers(N.slice(2,N.length),x,w,!1);t.lines(L,x,w,[1,1],null),x+=L[L.length-1][0],w+=L[L.length-1][1]}break;case"l":L=change_numbers(N,x,w,!0);_.each(L,function(e){H.push(e)}),x+=sums(L,!0),w+=sums(L,!1);break;case"L":L=change_numbers(N,x,w,!1);_.each(L,function(e){H.push(e)}),x+=L[L.length-1][0],w+=L[L.length-1][1];break;case"h":L=[[E=_.reduce(N,function(e,t){return e+t},0),0]];_.each(L,function(e){H.push(e)}),x+=E;break;case"H":H.push([N[N.length-1]-x,0]),x=N[N.length-1];break;case"v":var E;L=[[0,E=_.reduce(N,function(e,t){return e+t},0)]];_.each(L,function(e){H.push(e)}),w+=E;break;case"V":H.push([0,N[N.length-1]-w]),w=N[N.length-1];break;case"c":L=bezier_numbers(N,x,w,!0);_.each(L,function(e){H.push(e)}),x+=sums(L,!0),w+=sums(L,!1);break;case"C":L=bezier_numbers(N,x,w,!1);_.each(L,function(e){H.push(e)}),x=N[N.length-2],w=N[N.length-1];break;case"s":L=s_bezier_numbers(N,x,w,!0,q);_.each(L,function(e){H.push(e)}),x+=sums(L,!0),w+=sums(L,!1);break;case"S":L=s_bezier_numbers(N,x,w,!1,q);_.each(L,function(e){H.push(e)}),x=N[N.length-2],w=N[N.length-1];break;case"A":case"a":break;case"z":case"Z":H.push([z-x,F-w]),x=z,w=F;break;default:console.log("Sorry, the",C,"svg command is not yet available.")}q.element=C,q.prev_numbers=N}t.lines(H,z,F,[1,1],null);break;case"image":x=0,w=0,B=0;var R,G=n*f.attr("width"),W=n*f.attr("height");if(f.parent("g")[0])if(void 0!==(R=f.parent("g").attr("transform"))&&"undefined"!==R){if((S=f.parent("g").attr("transform").split("(")[1].replace(") rotate","").replace(" ",",")).split(",").length>1)x=S.split(",")[0],w=S.split(",")[1];B=f.parent("g").attr("transform").split("rotate(")[1].replace(")","").split(",")[0]}var U=0,D=0,V=f.attr("transform");if(void 0!==V&&"undefined"!==V){if((S=f.attr("transform").split("(")[1].replace(")","").replace(" ",",")).split(",").length>1)U=S.split(",")[0],D=S.split(",")[1];if(S.split(",").length>2)D=S.split(",")[2]}var j;T=(j=W)-j*Math.cos(B*Math.PI/180),P=W*Math.sin(B*Math.PI/180);t.addImage(f.attr("xlink:href"),"png",n*x-P+U*n,n*w-T+D*n,G,W,"","FAST",-B);break;default:r&&(console.log("can't translate to pdf:",l),f.remove())}}),t};function sums(e,t){if(t)var a=_.reduce(e,function(e,t){return e+t[t.length-2]},0);else a=_.reduce(e,function(e,t){return e+t[t.length-1]},0);return a}function change_numbers(e,t,a,r){for(var n=0,s=t,i=a,l=[];n<e.length;)r?(t=e[n],a=e[n+1]):(t=e[n]-s,a=e[n+1]-i),s=e[n],i=e[n+1],l.push([t,a]),n+=2;return l}function bezier_numbers(e,t,a,r){for(var n=0,s=t,i=a,l=[];n<e.length;){if(r)var f=e.slice(n,n+6);else{f=[];for(var o=n;o<n+6;o+=2)f.push(e[o]-s,e[o+1]-i)}s=e[n+4],i=e[n+5],l.push(f),n+=6}return l}function s_bezier_numbers(e,t,a,r,n){for(var s=0,i=t,l=a,f=[];s<e.length;){var o=[];if(r){s<4&&("c"==n.element||"s"==n.element)?o.push(n.point[0],n.point[1]):s>=4?o.push(e[s-2]-e[s-4],e[s-1]-e[s-3]):o.push(i,l);for(var h=s;h<s+4;h++)o.push(e[h])}else{s<4&&("C"==n.element||"S"==n.element)?o.push(n.point[0]-i,n.point[1]-l):s>=4?o.push(e[s-2]+e[s-2]-e[s-4],e[s-1]+e[s-1]-e[s-3]):o.push(i,l);for(h=s;h<s+4;h+=2)o.push(e[h]-i),o.push(e[h+1]-l)}i=e[s+2],l=e[s+3],f.push(o),s+=4}return f}function find_s_points(e,t){return/(s|c)/.test(t.element)?(numbs=t.prev_numbers,t.point=[numbs[numbs.length-2]-numbs[numbs.length-4],numbs[numbs.length-1]-numbs[numbs.length-3]]):/(S|C)/.test(t.element)&&(numbs=t.prev_numbers,t.point=[2*numbs[numbs.length-2]-numbs[numbs.length-4],2*numbs[numbs.length-1]-numbs[numbs.length-3]]),t.point}